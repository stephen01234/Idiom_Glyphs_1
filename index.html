<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>綜合學習卡 (字卡 & 成語)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.395.0"
      }
    }
    </script>
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        /* --- General Styles --- */
        .loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            display: flex; justify-content: center; align-items: center;
            z-index: 9999; flex-direction: column; gap: 1rem;
            font-size: 1.25rem; color: #374151; padding: 1rem;
        }
        .hidden { display: none !important; }

        /* --- Glyphs App Styles (Also used by Idioms now) --- */
        .flashcard-container { perspective: 1000px; position: relative; }
        .flashcard { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 0.6s; }
        .flashcard.is-flipped { transform: rotateY(180deg); }
        .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2rem; border-radius: 1rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        .card-front { background-color: white; }
        .card-back { background-color: #f0f9ff; transform: rotateY(180deg); }
        .highlight { color: #ef4444; font-weight: bold; font-size: 1.5em; }
        .phrase-text { font-size: 2.5rem; line-height: 1.5; text-align: center; }
        .answer-text { font-size: 2rem; line-height: 1.5; text-align: center; }
        .answer-pinyin { font-size: 1.5rem; color: #3b82f6; margin-top: 1rem; }
        
        /* --- MODIFIED: Made this rule global for both apps --- */
        input[type="file"]::file-selector-button { @apply bg-blue-500 text-white font-bold py-2 px-4 rounded-lg cursor-pointer hover:bg-blue-600 transition-colors; }
        
        #glyphs-container #star-btn { position: absolute; top: 1rem; right: 1rem; z-index: 10; cursor: pointer; width: 32px; height: 32px; fill: none; stroke: #fbbf24; stroke-width: 2; transition: all 0.2s ease-in-out; }
        #glyphs-container #star-btn.starred { fill: #f59e0b; stroke: #f59e0b; }
        #glyphs-container #star-btn:hover { transform: scale(1.1); }

        /* --- Idioms App Styles (Kept for star button) --- */
        #idioms-container { font-family: 'Noto Sans TC', sans-serif; }
        #idioms-container #star-btn-idiom { position: absolute; top: 1rem; right: 1rem; z-index: 10; cursor: pointer; width: 32px; height: 32px; fill: none; stroke: #fbbf24; stroke-width: 2; transition: all 0.2s ease-in-out; }
        #idioms-container #star-btn-idiom.starred { fill: #f59e0b; stroke: #f59e0b; }
        #idioms-container #star-btn-idiom:hover { transform: scale(1.1); }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div id="welcome-screen" class="text-center">
        <h1 class="text-5xl font-bold text-gray-800 mb-4">綜合學習卡</h1>
        <p class="text-xl text-gray-600 mb-8">請選擇您想要學習的項目</p>
        <div class="flex justify-center gap-6">
            <button id="start-glyphs-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105">
                字卡 (Glyphs)
            </button>
            <button id="start-idioms-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition-transform transform hover:scale-105">
                成語 (Idioms)
            </button>
        </div>
    </div>

    <div id="main-app" class="w-full max-w-2xl mx-auto hidden">
        <header class="text-center mb-6 flex justify-between items-center">
             <h1 id="app-title" class="text-4xl font-bold text-gray-800"></h1>
             <div>
                <label for="app-switcher" class="block text-sm font-medium text-gray-700">切換模式</label>
                <select id="app-switcher" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <option value="glyphs">字卡 (Glyphs)</option>
                    <option value="idioms">成語 (Idioms)</option>
                </select>
            </div>
        </header>

        <div id="glyphs-container">
             <div class="bg-white p-4 rounded-xl shadow-md mb-6 grid grid-cols-1 md:grid-cols-3 gap-4 items-center">
                <div>
                    <label for="book-select" class="block text-sm font-medium text-gray-700">選擇冊別</label>
                    <select id="book-select" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        <option value="all">全部 (1-5冊)</option>
                        <option value="starred">我的收藏</option>
                        <option value="第1冊">第1冊</option><option value="第2冊">第2冊</option><option value="第3冊">第3冊</option><option value="第4冊">第4冊</option><option value="第5冊">第5冊</option>
                    </select>
                </div>
                <div>
                    <label for="mode-select" class="block text-sm font-medium text-gray-700">練習模式</label>
                    <select id="mode-select" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        <option value="mixed">混合模式</option> <option value="pronunciation">字音練習</option> <option value="character">字型練習</option>
                    </select>
                </div>
                <div>
                     <label for="csv-upload-glyphs" class="block text-sm font-medium text-gray-700">上傳CSV檔</label>
                     <input type="file" id="csv-upload-glyphs" accept=".csv" class="mt-1 block w-full text-sm text-gray-500">
                </div>
            </div>
            <div class="flashcard-container h-80 cursor-pointer" id="flashcard-container">
                 <svg id="star-btn" viewBox="0 0 24 24" stroke-linejoin="round"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"></path></svg>
                <div class="flashcard" id="flashcard">
                    <div class="card-face card-front" id="card-front"></div>
                    <div class="card-face card-back" id="card-back"></div>
                </div>
            </div>
            <div class="flex items-center justify-center flex-wrap gap-4 mt-6">
                <button id="shuffle-btn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed">打亂順序</button>
                <button id="reset-btn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed">重置練習</button>
                <button id="prev-btn" class="bg-white hover:bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed">上一個</button>
                <div id="card-counter" class="text-lg font-medium text-gray-700">0 / 0</div>
                <button id="next-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed">下一個</button>
            </div>
        </div>
        
        <div id="idioms-container">
            <div id="idioms-root"></div>
        </div>

    </div>

    <div id="loading-overlay" class="loading-overlay hidden">
        <svg class="animate-spin h-8 w-8 text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <p id="loading-text">正在從雲端同步資料...</p>
    </div>

    <script type="module">
        // --- Firebase And React Imports ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, deleteDoc, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import React, { useState, useEffect, useCallback } from 'react';
        import ReactDOM from 'react-dom/client';
        // --- MODIFIED: Removed unused icons, kept XCircle ---
        import { XCircle } from 'lucide-react';

        // --- START: Firebase 設定 (Unchanged) ---
        const YOUR_NEW_FIREBASE_CONFIG = {
          apiKey: "AIzaSyB1t85toRv5pRHzx8vWLaSqW0w8FC0t-Do",
          authDomain: "idiom-glyphs.firebaseapp.com",
          projectId: "idiom-glyphs",
          storageBucket: "idiom-glyphs.firebasestorage.app",
          messagingSenderId: "132639237667",
          appId: "1:132639237667:web:d838f532a8f685734a3396"
        };
        // --- END: Firebase 設定 ---

        // --- Global State & Firebase Instances (Unchanged) ---
        let db, auth, userId;
        let firebaseInitialized = false;

        // --- UI Elements (Unchanged) ---
        const welcomeScreen = document.getElementById('welcome-screen');
        const mainApp = document.getElementById('main-app');
        const appSwitcher = document.getElementById('app-switcher');
        const appTitle = document.getElementById('app-title');
        const glyphsContainer = document.getElementById('glyphs-container');
        const idiomsContainer = document.getElementById('idioms-container');
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');

        // --- Firebase Initialization Logic (Unchanged) ---
        async function initializeFirebase() {
            if (firebaseInitialized) return;
            if (!YOUR_NEW_FIREBASE_CONFIG.apiKey || YOUR_NEW_FIREBASE_CONFIG.apiKey.includes("XXXXXXXXXXXXXXXXXXXXXXXXXXX")) {
                 loadingText.innerHTML = `<div class="text-center"><p class="font-bold text-red-600">Firebase 設定無效！</p><p class="text-sm mt-2">請在程式碼中修改 YOUR_NEW_FIREBASE_CONFIG 物件，填入您自己的 Firebase 專案設定。</p></div>`;
                 return;
            }
            try {
                const app = initializeApp(YOUR_NEW_FIREBASE_CONFIG);
                db = getFirestore(app);
                auth = getAuth(app);

                return new Promise((resolve) => {
                    onAuthStateChanged(auth, async (user) => {
                        if (user) {
                            userId = user.uid;
                            firebaseInitialized = true;
                            resolve();
                        } else {
                            try {
                                await signInAnonymously(auth);
                            } catch (error) {
                                console.error("Anonymous sign-in failed:", error);
                                loadingText.innerText = "使用者登入失敗，請檢查網路連線後重新整理。";
                            }
                        }
                    });
                });
            } catch (error) {
                console.error("Firebase initialization failed:", error);
                loadingText.innerText = "服務初始化失敗，請檢查 Firebase 設定。";
            }
        }
        
        // =================================================================================
        // --- 字卡 (Glyphs) App Logic (Unchanged) ---
        // =================================================================================
        const GlyphsApp = {
            bookSelect: document.getElementById('book-select'),
            modeSelect: document.getElementById('mode-select'),
            csvUpload: document.getElementById('csv-upload-glyphs'),
            flashcardContainer: document.getElementById('flashcard-container'),
            flashcard: document.getElementById('flashcard'),
            cardFront: document.getElementById('card-front'),
            cardBack: document.getElementById('card-back'),
            starBtn: document.getElementById('star-btn'),
            shuffleBtn: document.getElementById('shuffle-btn'),
            resetBtn: document.getElementById('reset-btn'),
            prevBtn: document.getElementById('prev-btn'),
            nextBtn: document.getElementById('next-btn'),
            cardCounter: document.getElementById('card-counter'),
            allCards: [],
            currentDeck: [],
            currentIndex: 0,
            starredCardIds: new Set(),
            unsubscribeStarred: null,




            //sampleData:[]
            sampleData:    [
            {
                "book": "其他",
                "char": "墨",
                "pinyin": "ㄇㄛˋ",
                "phrase": "墨守成規"
            },
            {
                "book": "其他",
                "char": "幀",
                "pinyin": "ㄓㄥˋ",
                "phrase": "一幀照片"
            },
            {
                "book": "其他",
                "char": "挑",
                "pinyin": "ㄊㄧㄠˇ",
                "phrase": "挑燈看劍"
            },
            {
                "book": "其他",
                "char": "屬",
                "pinyin": "ㄓㄨˇ",
                "phrase": "舉酒屬客"
            },
            {
                "book": "其他",
                "char": "許",
                "pinyin": "ㄒㄩˇ",
                "phrase": "孤高自許"
            },
            {
                "book": "其他",
                "char": "杼",
                "pinyin": "ㄓㄨˋ",
                "phrase": "機杼"
            },
            {
                "book": "其他",
                "char": "騖",
                "pinyin": "ㄨˋ",
                "phrase": "好高騖遠"
            },
            {
                "book": "其他",
                "char": "僭",
                "pinyin": "ㄐㄧㄢˋ",
                "phrase": "僭號"
            },
            {
                "book": "其他",
                "char": "譖",
                "pinyin": "ㄗㄣˋ",
                "phrase": "譖下謾上"
            },
            {
                "book": "其他",
                "char": "暄",
                "pinyin": "ㄒㄩㄢ",
                "phrase": "寒暄"
            },
            {
                "book": "其他",
                "char": "觥",
                "pinyin": "ㄍㄨㄥ",
                "phrase": "觥籌"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第1冊",
                "char": "幢幢",
                "pinyin": "ㄔㄨㄤˊ ㄔㄨㄤˊ",
                "phrase": "灰影幢幢"
            },
            {
                "book": "第1冊",
                "char": "朘",
                "pinyin": "ㄐㄩㄢ",
                "phrase": "日削月朘"
            },
            {
                "book": "第1冊",
                "char": "赭",
                "pinyin": "ㄓㄜˇ",
                "phrase": "赭紅色"
            },
            {
                "book": "第1冊",
                "char": "悛",
                "pinyin": "ㄑㄩㄢ",
                "phrase": "怙惡不悛"
            },
            {
                "book": "第1冊",
                "char": "嶙峋",
                "pinyin": "ㄌㄧㄣˊ ㄒㄩㄣˊ",
                "phrase": "瘦骨嶙峋"
            },
            {
                "book": "第1冊",
                "char": "詡",
                "pinyin": "ㄒㄩˇ",
                "phrase": "驕傲自詡"
            },
            {
                "book": "第1冊",
                "char": "栩",
                "pinyin": "ㄒㄩˇ",
                "phrase": "栩栩如生"
            },
            {
                "book": "第1冊",
                "char": "烙",
                "pinyin": "ㄌㄠˋ",
                "phrase": "烙鐵漿"
            },
            {
                "book": "第1冊",
                "char": "氤氳",
                "pinyin": "ㄧㄣ ㄩㄣ",
                "phrase": "霧氣氤氳"
            },
            {
                "book": "第1冊",
                "char": "紿",
                "pinyin": "ㄉㄞˋ",
                "phrase": "欺紿"
            },
            {
                "book": "第1冊",
                "char": "巍",
                "pinyin": "ㄨㄟˊ",
                "phrase": "巍峨聳矗"
            },
            {
                "book": "第1冊",
                "char": "矗",
                "pinyin": "ㄔㄨˋ",
                "phrase": "巍峨聳矗"
            },
            {
                "book": "第1冊",
                "char": "貽",
                "pinyin": "ㄧˊ",
                "phrase": "貽笑大方"
            },
            {
                "book": "第1冊",
                "char": "笞",
                "pinyin": "ㄔ",
                "phrase": "鞭笞天下"
            },
            {
                "book": "第1冊",
                "char": "逡",
                "pinyin": "ㄑㄩㄣ",
                "phrase": "四顧逡巡"
            },
            {
                "book": "第1冊",
                "char": "饜",
                "pinyin": "ㄧㄢˋ",
                "phrase": "學而不饜"
            },
            {
                "book": "第1冊",
                "char": "懨",
                "pinyin": "ㄧㄢ",
                "phrase": "病懨懨"
            },
            {
                "book": "第1冊",
                "char": "靨",
                "pinyin": "ㄧㄝˋ",
                "phrase": "笑靨"
            },
            {
                "book": "第1冊",
                "char": "魘",
                "pinyin": "ㄧㄢˇ",
                "phrase": "夢魘"
            },
            {
                "book": "第1冊",
                "char": "皋",
                "pinyin": "ㄍㄠ",
                "phrase": "沼澤皋壤"
            },
            {
                "book": "第1冊",
                "char": "嗥",
                "pinyin": "ㄏㄠˊ",
                "phrase": "狼嗥"
            },
            {
                "book": "第1冊",
                "char": "翱",
                "pinyin": "ㄠˊ",
                "phrase": "翱翔"
            },
            {
                "book": "第1冊",
                "char": "溯",
                "pinyin": "ㄙㄨˋ",
                "phrase": "推本溯源"
            },
            {
                "book": "第1冊",
                "char": "洄",
                "pinyin": "ㄏㄨㄟˊ",
                "phrase": "洄游"
            },
            {
                "book": "第1冊",
                "char": "妊",
                "pinyin": "ㄖㄣˋ",
                "phrase": "妊娠"
            },
            {
                "book": "第1冊",
                "char": "娠",
                "pinyin": "ㄕㄣ",
                "phrase": "妊娠"
            },
            {
                "book": "第1冊",
                "char": "淈",
                "pinyin": "ㄍㄨˇ",
                "phrase": "淈泥揚波"
            },
            {
                "book": "第1冊",
                "char": "狙",
                "pinyin": "ㄐㄩ",
                "phrase": "狙擊"
            },
            {
                "book": "第1冊",
                "char": "沂",
                "pinyin": "ㄧˊ",
                "phrase": "沂水弦歌"
            },
            {
                "book": "第1冊",
                "char": "韙",
                "pinyin": "ㄨㄟˇ",
                "phrase": "冒天下之大不韙"
            },
            {
                "book": "第1冊",
                "char": "煒",
                "pinyin": "ㄨㄟˇ",
                "phrase": "顧盼煒如"
            },
            {
                "book": "第1冊",
                "char": "釃",
                "pinyin": "ㄙ",
                "phrase": "釃酒臨江"
            },
            {
                "book": "第1冊",
                "char": "黧",
                "pinyin": "ㄌㄧˊ",
                "phrase": "面目黧黑"
            },
            {
                "book": "第1冊",
                "char": "渚",
                "pinyin": "ㄓㄨˇ",
                "phrase": "江渚"
            },
            {
                "book": "第1冊",
                "char": "朔",
                "pinyin": "ㄕㄨㄛˋ",
                "phrase": "朔日"
            },
            {
                "book": "第1冊",
                "char": "徊",
                "pinyin": "ㄏㄨㄞˊ",
                "phrase": "徘徊"
            },
            {
                "book": "第1冊",
                "char": "賑",
                "pinyin": "ㄓㄣˋ",
                "phrase": "賑窮濟乏"
            },
            {
                "book": "第1冊",
                "char": "崛",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "崛起於文壇"
            },
            {
                "book": "第1冊",
                "char": "殂",
                "pinyin": "ㄘㄨˊ",
                "phrase": "崩殂"
            },
            {
                "book": "第1冊",
                "char": "泝",
                "pinyin": "ㄙㄨˋ",
                "phrase": "擊空明兮泝流光"
            },
            {
                "book": "第1冊",
                "char": "諱",
                "pinyin": "ㄏㄨㄟˋ",
                "phrase": "諱疾忌醫"
            },
            {
                "book": "第1冊",
                "char": "嫋嫋",
                "pinyin": "ㄋㄧㄠˇ ㄋㄧㄠˇ",
                "phrase": "餘音嫋嫋"
            },
            {
                "book": "第1冊",
                "char": "鸝",
                "pinyin": "ㄌㄧˊ",
                "phrase": "黃鸝"
            },
            {
                "book": "第1冊",
                "char": "釐",
                "pinyin": "ㄌㄧˊ",
                "phrase": "毫釐之差"
            },
            {
                "book": "第1冊",
                "char": "塑",
                "pinyin": "ㄙㄨˋ",
                "phrase": "塑膠"
            },
            {
                "book": "第1冊",
                "char": "迴",
                "pinyin": "ㄏㄨㄟˊ",
                "phrase": "輪迴"
            },
            {
                "book": "第1冊",
                "char": "倔",
                "pinyin": "ㄐㄩㄝˋ",
                "phrase": "倔脾氣"
            },
            {
                "book": "第1冊",
                "char": "掘",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "臨渴掘井"
            },
            {
                "book": "第1冊",
                "char": "苴",
                "pinyin": "ㄐㄩ",
                "phrase": "補苴罅漏"
            },
            {
                "book": "第1冊",
                "char": "斫",
                "pinyin": "ㄓㄨㄛˊ",
                "phrase": "斫輪老手"
            },
            {
                "book": "第1冊",
                "char": "韋",
                "pinyin": "ㄨㄟˊ",
                "phrase": "韋編三絕"
            },
            {
                "book": "第1冊",
                "char": "搦",
                "pinyin": "ㄋㄨㄛˋ",
                "phrase": "搦管為文"
            },
            {
                "book": "第1冊",
                "char": "嫠",
                "pinyin": "ㄌㄧˊ",
                "phrase": "泣孤舟之嫠婦"
            },
            {
                "book": "第1冊",
                "char": "邐",
                "pinyin": "ㄌㄧˇ",
                "phrase": "山路邐迆"
            },
            {
                "book": "第1冊",
                "char": "赭",
                "pinyin": "ㄓㄜˇ",
                "phrase": "赭衣塞路"
            },
            {
                "book": "第1冊",
                "char": "褚",
                "pinyin": "ㄔㄨˇ",
                "phrase": "褚遂良"
            },
            {
                "book": "第1冊",
                "char": "愀",
                "pinyin": "ㄑㄧㄠˇ",
                "phrase": "蘇子愀然"
            },
            {
                "book": "第1冊",
                "char": "瞅",
                "pinyin": "ㄔㄡˇ",
                "phrase": "不瞅不睬"
            },
            {
                "book": "第1冊",
                "char": "寥",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "寥寥無幾"
            },
            {
                "book": "第1冊",
                "char": "莪",
                "pinyin": "ㄜˊ",
                "phrase": "蓼莪"
            },
            {
                "book": "第1冊",
                "char": "蓼",
                "pinyin": "ㄌㄨˋ",
                "phrase": "蓼莪"
            },
            {
                "book": "第1冊",
                "char": "呦呦",
                "pinyin": "ㄧㄡ ㄧㄡ",
                "phrase": "呦呦鹿鳴"
            },
            {
                "book": "第1冊",
                "char": "逮",
                "pinyin": "ㄉㄞˋ",
                "phrase": "力有未逮"
            },
            {
                "book": "第1冊",
                "char": "惙",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "危惙之際"
            },
            {
                "book": "第1冊",
                "char": "驤",
                "pinyin": "ㄒㄧㄤ",
                "phrase": "龍驤虎步"
            },
            {
                "book": "第1冊",
                "char": "摻",
                "pinyin": "ㄔㄢ",
                "phrase": "摻雜混雜"
            },
            {
                "book": "第1冊",
                "char": "淖",
                "pinyin": "ㄋㄠˋ",
                "phrase": "泥淖"
            },
            {
                "book": "第1冊",
                "char": "瓠",
                "pinyin": "ㄏㄨˋ",
                "phrase": "瓠巴"
            },
            {
                "book": "第1冊",
                "char": "鍬",
                "pinyin": "ㄑㄧㄠ",
                "phrase": "圓鍬"
            },
            {
                "book": "第1冊",
                "char": "繆",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "山川相繆"
            },
            {
                "book": "第1冊",
                "char": "戮",
                "pinyin": "ㄌㄨˋ",
                "phrase": "戮力同心"
            },
            {
                "book": "第1冊",
                "char": "窈",
                "pinyin": "ㄧㄠˇ",
                "phrase": "窈窕淑女"
            },
            {
                "book": "第1冊",
                "char": "怠",
                "pinyin": "ㄉㄞˋ",
                "phrase": "怠慢了姑娘"
            },
            {
                "book": "第1冊",
                "char": "貸",
                "pinyin": "ㄉㄞˋ",
                "phrase": "責無旁貸"
            },
            {
                "book": "第1冊",
                "char": "啜",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "啜菽飲水"
            },
            {
                "book": "第1冊",
                "char": "驂",
                "pinyin": "ㄘㄢ",
                "phrase": "解驂推食"
            },
            {
                "book": "第1冊",
                "char": "滲",
                "pinyin": "ㄕㄣˋ",
                "phrase": "塵泥滲漉"
            },
            {
                "book": "第1冊",
                "char": "棹",
                "pinyin": "ㄓㄠˋ",
                "phrase": "桂棹"
            },
            {
                "book": "第1冊",
                "char": "揪",
                "pinyin": "ㄐㄧㄡ",
                "phrase": "揪出禍首"
            },
            {
                "book": "第1冊",
                "char": "繆",
                "pinyin": "ㄇㄡˊ",
                "phrase": "未雨綢繆"
            },
            {
                "book": "第1冊",
                "char": "戮",
                "pinyin": "ㄌㄨˋ",
                "phrase": "殺戮"
            },
            {
                "book": "第1冊",
                "char": "拗",
                "pinyin": "ㄠˋ",
                "phrase": "拗口"
            },
            {
                "book": "第1冊",
                "char": "殆",
                "pinyin": "ㄉㄞˋ",
                "phrase": "思而不學則殆"
            },
            {
                "book": "第1冊",
                "char": "輟",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "弦歌不輟"
            },
            {
                "book": "第1冊",
                "char": "嚷",
                "pinyin": "ㄖㄤˇ",
                "phrase": "大聲喧嚷"
            },
            {
                "book": "第1冊",
                "char": "參",
                "pinyin": "ㄘㄢ",
                "phrase": "古木參天"
            },
            {
                "book": "第1冊",
                "char": "悼",
                "pinyin": "ㄉㄠˋ",
                "phrase": "悼念"
            },
            {
                "book": "第1冊",
                "char": "袴",
                "pinyin": "ㄨㄢˊ ㄎㄨˋ",
                "phrase": "紈袴子弟"
            },
            {
                "book": "第1冊",
                "char": "洿",
                "pinyin": "ㄨ",
                "phrase": "洿池"
            },
            {
                "book": "第1冊",
                "char": "閨",
                "pinyin": "ㄍㄨㄟ",
                "phrase": "待字閨中"
            },
            {
                "book": "第1冊",
                "char": "規",
                "pinyin": "ㄍㄨㄟ",
                "phrase": "墨守成規"
            },
            {
                "book": "第1冊",
                "char": "皈",
                "pinyin": "ㄍㄨㄟ",
                "phrase": "皈依佛教"
            },
            {
                "book": "第1冊",
                "char": "圭",
                "pinyin": "ㄍㄨㄟ",
                "phrase": "奉為圭臬"
            },
            {
                "book": "第1冊",
                "char": "臬",
                "pinyin": "ㄋㄧㄝˋ",
                "phrase": "奉為圭臬"
            },
            {
                "book": "第1冊",
                "char": "癰",
                "pinyin": "ㄩㄥ",
                "phrase": "吮癰舐痔"
            },
            {
                "book": "第1冊",
                "char": "壅",
                "pinyin": "ㄩㄥ",
                "phrase": "壅塞"
            },
            {
                "book": "第1冊",
                "char": "雍",
                "pinyin": "ㄩㄥ",
                "phrase": "雍容大度"
            },
            {
                "book": "第1冊",
                "char": "庸",
                "pinyin": "ㄩㄥ",
                "phrase": "附庸風雅"
            },
            {
                "book": "第1冊",
                "char": "慵",
                "pinyin": "ㄩㄥ",
                "phrase": "慵懶"
            },
            {
                "book": "第1冊",
                "char": "躡",
                "pinyin": "ㄋㄧㄝˋ",
                "phrase": "躡足"
            },
            {
                "book": "第1冊",
                "char": "懾",
                "pinyin": "ㄓㄜˊ",
                "phrase": "震懾人心"
            },
            {
                "book": "第1冊",
                "char": "攝",
                "pinyin": "ㄕㄜˋ",
                "phrase": "拍攝照片"
            },
            {
                "book": "第1冊",
                "char": "囁",
                "pinyin": "ㄋㄧㄝˋ",
                "phrase": "囁嚅數次"
            },
            {
                "book": "第1冊",
                "char": "彆",
                "pinyin": "ㄅㄧㄝˋ",
                "phrase": "鬧彆扭"
            },
            {
                "book": "第1冊",
                "char": "憋",
                "pinyin": "ㄅㄧㄝ",
                "phrase": "憋不住"
            },
            {
                "book": "第1冊",
                "char": "瞥",
                "pinyin": "ㄆㄧㄝ",
                "phrase": "驚鴻一瞥"
            },
            {
                "book": "第1冊",
                "char": "撇",
                "pinyin": "ㄆㄧㄝˇ",
                "phrase": "八字都沒一撇"
            },
            {
                "book": "第1冊",
                "char": "瀆",
                "pinyin": "ㄉㄨˊ",
                "phrase": "褻瀆神明"
            },
            {
                "book": "第1冊",
                "char": "犢",
                "pinyin": "ㄉㄨˊ",
                "phrase": "初生之犢"
            },
            {
                "book": "第1冊",
                "char": "黷",
                "pinyin": "ㄉㄨˊ",
                "phrase": "窮兵黷武"
            },
            {
                "book": "第1冊",
                "char": "牘",
                "pinyin": "ㄉㄨˊ",
                "phrase": "連篇累牘"
            },
            {
                "book": "第1冊",
                "char": "櫝",
                "pinyin": "ㄉㄨˊ",
                "phrase": "買櫝還珠"
            },
            {
                "book": "第1冊",
                "char": "讀",
                "pinyin": "ㄉㄨˊ",
                "phrase": "耕讀傳家"
            },
            {
                "book": "第1冊",
                "char": "戮",
                "pinyin": "ㄌㄨˋ",
                "phrase": "同心戮力"
            },
            {
                "book": "第1冊",
                "char": "蓼",
                "pinyin": "ㄌㄧㄠˇ",
                "phrase": "含蓼問疾"
            },
            {
                "book": "第1冊",
                "char": "僇",
                "pinyin": "ㄌㄨˋ",
                "phrase": "僇人"
            },
            {
                "book": "第1冊",
                "char": "寥",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "寥若晨星"
            },
            {
                "book": "第1冊",
                "char": "佝",
                "pinyin": "ㄎㄡˋ",
                "phrase": "佝僂"
            },
            {
                "book": "第1冊",
                "char": "劬",
                "pinyin": "ㄑㄩˊ",
                "phrase": "劬勞"
            },
            {
                "book": "第1冊",
                "char": "痀",
                "pinyin": "ㄐㄩ",
                "phrase": "痀瘻"
            },
            {
                "book": "第1冊",
                "char": "呴",
                "pinyin": "ㄒㄩˇ",
                "phrase": "相呴相濡"
            },
            {
                "book": "第1冊",
                "char": "纔",
                "pinyin": "ㄘㄞˊ",
                "phrase": "方纔 、纔至"
            },
            {
                "book": "第1冊",
                "char": "巉",
                "pinyin": "ㄔㄢˊ",
                "phrase": "巉岩陡崖"
            },
            {
                "book": "第1冊",
                "char": "攙",
                "pinyin": "ㄔㄢ",
                "phrase": "攙雜"
            },
            {
                "book": "第1冊",
                "char": "貲",
                "pinyin": "ㄗ",
                "phrase": "所費不貲"
            },
            {
                "book": "第1冊",
                "char": "齜",
                "pinyin": "ㄗ",
                "phrase": "齜牙咧嘴"
            },
            {
                "book": "第1冊",
                "char": "眥",
                "pinyin": "ㄗˋ",
                "phrase": "睚眥必報"
            },
            {
                "book": "第1冊",
                "char": "訾",
                "pinyin": "ㄗˇ",
                "phrase": "訾議"
            },
            {
                "book": "第1冊",
                "char": "疵",
                "pinyin": "ㄘ",
                "phrase": "吹毛求疵"
            },
            {
                "book": "第2冊",
                "char": "皴",
                "pinyin": "ㄘㄨㄣ",
                "phrase": "皴裂"
            },
            {
                "book": "第2冊",
                "char": "皴",
                "pinyin": "ㄘㄨㄣ",
                "phrase": "根根都麻皴著 (物體表面有皺褶)"
            },
            {
                "book": "第2冊",
                "char": "逡",
                "pinyin": "ㄑㄩㄣ",
                "phrase": "逡巡 (徘徊、往來行走)"
            },
            {
                "book": "第2冊",
                "char": "唆",
                "pinyin": "ㄙㄨㄛ",
                "phrase": "教唆"
            },
            {
                "book": "第2冊",
                "char": "悛",
                "pinyin": "ㄑㄩㄢ",
                "phrase": "怙惡不悛 (有過惡卻不肯悔改)"
            },
            {
                "book": "第2冊",
                "char": "竣",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "竣工"
            },
            {
                "book": "第2冊",
                "char": "砌",
                "pinyin": "ㄑㄧˋ",
                "phrase": "雕欄玉砌 (形容富麗華美的建築物)"
            },
            {
                "book": "第2冊",
                "char": "沏",
                "pinyin": "ㄑㄧ",
                "phrase": "沏茶"
            },
            {
                "book": "第2冊",
                "char": "毵毵",
                "pinyin": "ㄙㄢ ㄙㄢ",
                "phrase": "晴煙漠漠柳毵毵 (細長的樣子)"
            },
            {
                "book": "第2冊",
                "char": "滲",
                "pinyin": "ㄕㄣˋ",
                "phrase": "滲入"
            },
            {
                "book": "第2冊",
                "char": "摻",
                "pinyin": "ㄔㄢ",
                "phrase": "摻雜混合"
            },
            {
                "book": "第2冊",
                "char": "參",
                "pinyin": "ㄕㄣ",
                "phrase": "動如參商 (比喻分別而無法相見)"
            },
            {
                "book": "第2冊",
                "char": "蕾",
                "pinyin": "ㄌㄟˇ",
                "phrase": "芭蕾舞"
            },
            {
                "book": "第2冊",
                "char": "擂",
                "pinyin": "ㄌㄟˊ",
                "phrase": "自吹自擂 (比喻自我宣傳吹噓)"
            },
            {
                "book": "第2冊",
                "char": "篙",
                "pinyin": "ㄍㄠ",
                "phrase": "船上的篙槳"
            },
            {
                "book": "第2冊",
                "char": "犒",
                "pinyin": "ㄎㄠˋ",
                "phrase": "犒賞軍士"
            },
            {
                "book": "第2冊",
                "char": "槁",
                "pinyin": "ㄍㄠˇ",
                "phrase": "槁木死灰 (喻心情極端消沉)"
            },
            {
                "book": "第2冊",
                "char": "縞",
                "pinyin": "ㄍㄠˇ",
                "phrase": "一身縞素"
            },
            {
                "book": "第2冊",
                "char": "嵩",
                "pinyin": "ㄙㄨㄥ",
                "phrase": "嵩壽 (高壽)"
            },
            {
                "book": "第2冊",
                "char": "戧",
                "pinyin": "ㄑㄧㄤˋ",
                "phrase": "捏絲戧金五彩大盒子"
            },
            {
                "book": "第2冊",
                "char": "蹌",
                "pinyin": "ㄑㄧㄤˋ",
                "phrase": "踉「蹌」而來"
            },
            {
                "book": "第2冊",
                "char": "瘡",
                "pinyin": "ㄔㄨㄤ",
                "phrase": "千瘡百孔"
            },
            {
                "book": "第2冊",
                "char": "愴",
                "pinyin": "ㄔㄨㄤˋ",
                "phrase": "淒愴"
            },
            {
                "book": "第2冊",
                "char": "傖",
                "pinyin": "ㄘㄤ",
                "phrase": "穿著寒傖(穿著寒酸窮困樣子)"
            },
            {
                "book": "第2冊",
                "char": "贖",
                "pinyin": "ㄕㄨˊ",
                "phrase": "將功贖罪"
            },
            {
                "book": "第2冊",
                "char": "櫝",
                "pinyin": "ㄉㄨˊ",
                "phrase": "買櫝還珠 (比喻捨本逐末)"
            },
            {
                "book": "第2冊",
                "char": "牘",
                "pinyin": "ㄉㄨˊ",
                "phrase": "案牘勞形 (形容因文書工作繁重而疲憊不堪)"
            },
            {
                "book": "第2冊",
                "char": "犢",
                "pinyin": "ㄉㄨˊ",
                "phrase": "舐犢情深 (比喻父母疼愛子女之深情)"
            },
            {
                "book": "第2冊",
                "char": "竇",
                "pinyin": "ㄉㄡˋ",
                "phrase": "情竇初開 (初通情愛的感覺)"
            },
            {
                "book": "第2冊",
                "char": "黷",
                "pinyin": "ㄉㄨˊ",
                "phrase": "窮兵黷武 (恣意動用兵力，發動戰爭)"
            },
            {
                "book": "第2冊",
                "char": "咆",
                "pinyin": "ㄆㄠˊ",
                "phrase": "咆哮"
            },
            {
                "book": "第2冊",
                "char": "刨",
                "pinyin": "ㄅㄠˋ",
                "phrase": "刨冰"
            },
            {
                "book": "第2冊",
                "char": "枹",
                "pinyin": "ㄈㄨˊ",
                "phrase": "枹鼓相應 (喻極力響應，緊密配合)"
            },
            {
                "book": "第2冊",
                "char": "匏",
                "pinyin": "ㄆㄠˊ",
                "phrase": "匏瓜空懸 (比喻有才能的人卻不為世所用)"
            },
            {
                "book": "第2冊",
                "char": "庖",
                "pinyin": "ㄆㄠˊ",
                "phrase": "越俎代庖 (比喻踰越自己的職分而代人做事)"
            },
            {
                "book": "第2冊",
                "char": "鮑",
                "pinyin": "ㄅㄠˋ",
                "phrase": "鮑魚之肆 (比喻臭穢的地方、惡劣的環境或小人聚集的場所)"
            },
            {
                "book": "第2冊",
                "char": "炮",
                "pinyin": "ㄆㄠˊ",
                "phrase": "如法炮製 (多指依照往例或現有的方法辦事)"
            },
            {
                "book": "第2冊",
                "char": "峻",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "崇山峻嶺"
            },
            {
                "book": "第2冊",
                "char": "峻",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "嚴刑峻法:"
            },
            {
                "book": "第2冊",
                "char": "浚",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "疏浚:(疏通水道)"
            },
            {
                "book": "第2冊",
                "char": "寥",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "寂寥"
            },
            {
                "book": "第2冊",
                "char": "寥",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "寥寥可數"
            },
            {
                "book": "第2冊",
                "char": "綢繆",
                "pinyin": "ㄔㄡˊ ㄇㄡˊ",
                "phrase": "未雨綢繆"
            },
            {
                "book": "第2冊",
                "char": "戮",
                "pinyin": "ㄌㄨˋ",
                "phrase": "殺戮"
            },
            {
                "book": "第2冊",
                "char": "謬",
                "pinyin": "ㄇㄧㄡˋ",
                "phrase": "荒謬"
            },
            {
                "book": "第2冊",
                "char": "蓼",
                "pinyin": "ㄌㄧㄠˇ",
                "phrase": "蓼澈一帶"
            },
            {
                "book": "第2冊",
                "char": "舂",
                "pinyin": "ㄔㄨㄥ",
                "phrase": "舂米 (用杵臼去除穀物的皮殼)"
            },
            {
                "book": "第2冊",
                "char": "鏑",
                "pinyin": "ㄉㄧˊ",
                "phrase": "鳴鏑"
            },
            {
                "book": "第2冊",
                "char": "樁",
                "pinyin": "ㄓㄨㄤ",
                "phrase": "打樁 (插在土中的木棒或石柱)"
            },
            {
                "book": "第2冊",
                "char": "謫",
                "pinyin": "ㄓㄜˊ",
                "phrase": "天上謫仙人"
            },
            {
                "book": "第2冊",
                "char": "椿",
                "pinyin": "ㄔㄨㄣ",
                "phrase": "椿萱並茂 (喻父母都健在)"
            },
            {
                "book": "第2冊",
                "char": "嫡",
                "pinyin": "ㄉㄧˊ",
                "phrase": "嫡庶之分"
            },
            {
                "book": "第2冊",
                "char": "杌",
                "pinyin": "ㄨˋ",
                "phrase": "檮杌 (古代楚國的史書)"
            },
            {
                "book": "第2冊",
                "char": "檮",
                "pinyin": "ㄊㄠˊ",
                "phrase": "檮杌 (古代楚國的史書)"
            },
            {
                "book": "第2冊",
                "char": "疇",
                "pinyin": "ㄔㄡˊ",
                "phrase": "疇昔"
            },
            {
                "book": "第2冊",
                "char": "霏",
                "pinyin": "ㄈㄟ",
                "phrase": "煙霏露結"
            },
            {
                "book": "第2冊",
                "char": "搗",
                "pinyin": "ㄉㄠˇ",
                "phrase": "搗米"
            },
            {
                "book": "第2冊",
                "char": "腓",
                "pinyin": "ㄈㄟˊ",
                "phrase": "腓骨 (腿部外側的骨頭)"
            },
            {
                "book": "第2冊",
                "char": "躊",
                "pinyin": "ㄔㄡˊ",
                "phrase": "躊躇"
            },
            {
                "book": "第2冊",
                "char": "俳",
                "pinyin": "ㄆㄞˊ",
                "phrase": "俳謔 (詼諧、開玩笑)"
            },
            {
                "book": "第2冊",
                "char": "濤",
                "pinyin": "ㄊㄠˊ",
                "phrase": "驚濤駭浪"
            },
            {
                "book": "第2冊",
                "char": "蜚",
                "pinyin": "ㄈㄟ",
                "phrase": "蜚聲中外 (揚名國內外)"
            },
            {
                "book": "第2冊",
                "char": "菲",
                "pinyin": "ㄈㄟˇ",
                "phrase": "妄自菲薄"
            },
            {
                "book": "第2冊",
                "char": "殂",
                "pinyin": "ㄘㄨˊ",
                "phrase": "中道崩殂"
            },
            {
                "book": "第2冊",
                "char": "緋",
                "pinyin": "ㄈㄟ",
                "phrase": "緋聞"
            },
            {
                "book": "第2冊",
                "char": "蛆",
                "pinyin": "ㄑㄩ",
                "phrase": "腐敗生蛆"
            },
            {
                "book": "第2冊",
                "char": "俎",
                "pinyin": "ㄗㄨˇ",
                "phrase": "越俎代庖 (踰越自己職分而代人做事)"
            },
            {
                "book": "第2冊",
                "char": "齟",
                "pinyin": "ㄐㄩˇ",
                "phrase": "齟齬(上下排牙齒參差不齊。多用來比喻彼此意見不合）"
            },
            {
                "book": "第2冊",
                "char": "齬",
                "pinyin": "ㄩˇ",
                "phrase": "齟齬(上下排牙齒參差不齊。多用來比喻彼此意見不合）"
            },
            {
                "book": "第2冊",
                "char": "莩",
                "pinyin": "ㄆㄧㄠˇ",
                "phrase": "塗有餓莩而不知發"
            },
            {
                "book": "第2冊",
                "char": "數",
                "pinyin": "ㄘㄨˋ",
                "phrase": "數罟不入洿池"
            },
            {
                "book": "第2冊",
                "char": "浮",
                "pinyin": "ㄈㄨˊ",
                "phrase": "心浮氣躁"
            },
            {
                "book": "第2冊",
                "char": "數",
                "pinyin": "ㄕㄨˋ",
                "phrase": "不計其數"
            },
            {
                "book": "第2冊",
                "char": "俘",
                "pinyin": "ㄈㄨˊ",
                "phrase": "俘虜"
            },
            {
                "book": "第2冊",
                "char": "數",
                "pinyin": "ㄕㄨˇ",
                "phrase": "不可勝數"
            },
            {
                "book": "第2冊",
                "char": "孵",
                "pinyin": "ㄈㄨ",
                "phrase": "孵蛋"
            },
            {
                "book": "第2冊",
                "char": "數",
                "pinyin": "ㄕㄨㄛˋ",
                "phrase": "石簣數為余言 (多次)"
            },
            {
                "book": "第2冊",
                "char": "偈",
                "pinyin": "ㄐㄧˋ",
                "phrase": "偈言"
            },
            {
                "book": "第2冊",
                "char": "褐",
                "pinyin": "ㄏㄜˊ",
                "phrase": "被褐懷珠 (比喻有真才實學而身處寒微的人)"
            },
            {
                "book": "第2冊",
                "char": "喝",
                "pinyin": "ㄏㄜˋ",
                "phrase": "籠街喝道 (形容車駕儀從之盛)"
            },
            {
                "book": "第2冊",
                "char": "謁",
                "pinyin": "ㄧㄝˋ",
                "phrase": "謁見總統"
            },
            {
                "book": "第2冊",
                "char": "愒",
                "pinyin": "ㄎㄞˋ",
                "phrase": "玩日愒歲 (怠惰偷安，虛度光陰)"
            },
            {
                "book": "第2冊",
                "char": "遏",
                "pinyin": "ㄜˋ",
                "phrase": "怒不可遏"
            },
            {
                "book": "第2冊",
                "char": "羯",
                "pinyin": "ㄐㄧㄝˊ",
                "phrase": "摩羯座"
            },
            {
                "book": "第2冊",
                "char": "葛",
                "pinyin": "ㄍㄜˊ",
                "phrase": "杯葛提案"
            },
            {
                "book": "第2冊",
                "char": "褥",
                "pinyin": "ㄖㄨˋ",
                "phrase": "床褥"
            },
            {
                "book": "第2冊",
                "char": "霰",
                "pinyin": "ㄒㄧㄢˋ",
                "phrase": "雪霰"
            },
            {
                "book": "第2冊",
                "char": "縟",
                "pinyin": "ㄖㄨˋ",
                "phrase": "繁文縟節"
            },
            {
                "book": "第2冊",
                "char": "霎",
                "pinyin": "ㄕㄚˋ",
                "phrase": "霎時 (極短的時間)"
            },
            {
                "book": "第2冊",
                "char": "溽",
                "pinyin": "ㄖㄨˋ",
                "phrase": "溽暑 (潮溼)"
            },
            {
                "book": "第2冊",
                "char": "雩",
                "pinyin": "ㄩˊ",
                "phrase": "浴乎沂，風乎舞雩"
            },
            {
                "book": "第2冊",
                "char": "耨",
                "pinyin": "ㄋㄡˋ",
                "phrase": "深耕易耨 (除草)"
            },
            {
                "book": "第2冊",
                "char": "崢",
                "pinyin": "ㄓㄥ",
                "phrase": "岩角崢嶸"
            },
            {
                "book": "第2冊",
                "char": "雹",
                "pinyin": "ㄅㄠˊ",
                "phrase": "下冰雹"
            },
            {
                "book": "第2冊",
                "char": "箏",
                "pinyin": "ㄓㄥ",
                "phrase": "彈箏搏髀"
            },
            {
                "book": "第2冊",
                "char": "錚",
                "pinyin": "ㄓㄥ",
                "phrase": "錚錚鏦鏦"
            },
            {
                "book": "第2冊",
                "char": "猙",
                "pinyin": "ㄓㄥ",
                "phrase": "面目猙獰"
            },
            {
                "book": "第2冊",
                "char": "掙",
                "pinyin": "ㄓㄥˋ",
                "phrase": "掙些銀子"
            },
            {
                "book": "第2冊",
                "char": "盞",
                "pinyin": "ㄓㄢˇ",
                "phrase": "洗盞更酌 (清洗酒杯)"
            },
            {
                "book": "第2冊",
                "char": "嶙峋",
                "pinyin": "ㄌㄧㄣˊ ㄒㄩㄣˊ",
                "phrase": "肌理嶙峋"
            },
            {
                "book": "第2冊",
                "char": "攫",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "攫取"
            },
            {
                "book": "第2冊",
                "char": "粼粼",
                "pinyin": "ㄌㄧㄣˊ ㄌㄧㄣˊ",
                "phrase": "波光粼粼 (波光閃動的樣子)"
            },
            {
                "book": "第2冊",
                "char": "矍",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "矍然 (吃驚而睜大眼睛)"
            },
            {
                "book": "第2冊",
                "char": "岬",
                "pinyin": "ㄐㄧㄚˇ",
                "phrase": "海岬"
            },
            {
                "book": "第2冊",
                "char": "戄",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "戄然(驚惶的樣子)"
            },
            {
                "book": "第2冊",
                "char": "匣",
                "pinyin": "ㄒㄧㄚˊ",
                "phrase": "鏡匣"
            },
            {
                "book": "第2冊",
                "char": "躩",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "躩步(腳步迅速)"
            },
            {
                "book": "第2冊",
                "char": "舺",
                "pinyin": "ㄐㄧㄚˇ",
                "phrase": "艋舺"
            },
            {
                "book": "第2冊",
                "char": "瞿",
                "pinyin": "ㄐㄩˋ",
                "phrase": "瞿然(通「懼」，驚懼、害怕)"
            },
            {
                "book": "第2冊",
                "char": "閘",
                "pinyin": "ㄓㄚˊ",
                "phrase": "水閘"
            },
            {
                "book": "第2冊",
                "char": "狎",
                "pinyin": "ㄒㄧㄚˊ",
                "phrase": "狎侮 (惡作劇、戲弄)"
            },
            {
                "book": "第2冊",
                "char": "棧",
                "pinyin": "ㄓㄢˋ",
                "phrase": "木屋旅棧"
            },
            {
                "book": "第2冊",
                "char": "餞",
                "pinyin": "ㄐㄧㄢˋ",
                "phrase": "餞別 (設酒食為人送行)"
            },
            {
                "book": "第2冊",
                "char": "箋",
                "pinyin": "ㄐㄧㄢ",
                "phrase": "處方箋"
            },
            {
                "book": "第2冊",
                "char": "耽",
                "pinyin": "ㄉㄢ",
                "phrase": "耽耽 (喝酒喝得很快樂。引申有安樂)"
            },
            {
                "book": "第2冊",
                "char": "耽",
                "pinyin": "ㄉㄢ",
                "phrase": "耽擱"
            },
            {
                "book": "第2冊",
                "char": "耽",
                "pinyin": "ㄉㄢ",
                "phrase": "耽溺"
            },
            {
                "book": "第2冊",
                "char": "耽",
                "pinyin": "ㄉㄢ",
                "phrase": "虎視眈眈"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第2冊",
                "char": "簣",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "功虧一簣 (盛土的竹器)"
            },
            {
                "book": "第2冊",
                "char": "潰",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "潰不成軍 (敗逃)"
            },
            {
                "book": "第2冊",
                "char": "匱",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "物資匱乏 (缺乏)"
            },
            {
                "book": "第2冊",
                "char": "饋",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "饋贈物品 (贈送)"
            },
            {
                "book": "第2冊",
                "char": "聵",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "振聾發聵 (耳聾)"
            },
            {
                "book": "第2冊",
                "char": "冶",
                "pinyin": "ㄧㄝˇ",
                "phrase": "陶冶性情"
            },
            {
                "book": "第2冊",
                "char": "治",
                "pinyin": "ㄓˋ",
                "phrase": "長治久安 (國家長期安定)"
            },
            {
                "book": "第2冊",
                "char": "殆",
                "pinyin": "ㄉㄞˋ",
                "phrase": "消滅殆盡 (差不多)"
            },
            {
                "book": "第2冊",
                "char": "矍",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "步履矍鑠 (腳步迅速)"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第2冊",
                "char": "剜",
                "pinyin": "ㄨㄢ",
                "phrase": "剜肉補瘡 (用有害的方法解決眼前急迫的問題，而不顧後果)"
            },
            {
                "book": "第2冊",
                "char": "麴",
                "pinyin": "ㄑㄩˊ",
                "phrase": "紅麴酒"
            },
            {
                "book": "第2冊",
                "char": "掬",
                "pinyin": "ㄐㄩˊ",
                "phrase": "笑容可掬"
            },
            {
                "book": "第2冊",
                "char": "鞠",
                "pinyin": "ㄐㄩˊ",
                "phrase": "彎腰鞠躬"
            },
            {
                "book": "第2冊",
                "char": "灼",
                "pinyin": "ㄓㄨㄛˊ",
                "phrase": "真知灼見"
            },
            {
                "book": "第2冊",
                "char": "酌",
                "pinyin": "ㄓㄨㄛˊ",
                "phrase": "仔細斟酌"
            },
            {
                "book": "第2冊",
                "char": "杓",
                "pinyin": "ㄅㄧㄠ",
                "phrase": "斗杓東指 (春季來臨)"
            },
            {
                "book": "第2冊",
                "char": "貽",
                "pinyin": "ㄧˊ",
                "phrase": "貽笑大方 (指被識見廣博的人所取笑)"
            },
            {
                "book": "第2冊",
                "char": "笞",
                "pinyin": "ㄔ",
                "phrase": "鞭笞天下 (鞭策驅使天下百姓)"
            },
            {
                "book": "第2冊",
                "char": "腕",
                "pinyin": "ㄨㄢˋ",
                "phrase": "手腕"
            },
            {
                "book": "第2冊",
                "char": "惋",
                "pinyin": "ㄨㄢˋ",
                "phrase": "嘆惋"
            },
            {
                "book": "第2冊",
                "char": "蜿",
                "pinyin": "ㄨㄢ",
                "phrase": "蜿蜒"
            },
            {
                "book": "第2冊",
                "char": "邃",
                "pinyin": "ㄙㄨㄟˋ",
                "phrase": "深邃"
            },
            {
                "book": "第2冊",
                "char": "遂",
                "pinyin": "ㄙㄨㄟˋ",
                "phrase": "諸事順遂"
            },
            {
                "book": "第2冊",
                "char": "隧",
                "pinyin": "ㄙㄨㄟˋ",
                "phrase": "隧道"
            },
            {
                "book": "第2冊",
                "char": "燧",
                "pinyin": "ㄙㄨㄟˋ",
                "phrase": "鑽燧取火"
            },
            {
                "book": "第2冊",
                "char": "腆",
                "pinyin": "ㄊㄧㄢˇ",
                "phrase": "倨傲鮮腆 (傲慢無禮)"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第2冊",
                "char": "忝",
                "pinyin": "ㄊㄧㄢˇ",
                "phrase": "無忝所生 (對得起父母)"
            },
            {
                "book": "第2冊",
                "char": "遑",
                "pinyin": "ㄏㄨㄤˊ",
                "phrase": "不遑多讓 (無暇多所謙讓)"
            },
            {
                "book": "第2冊",
                "char": "舔",
                "pinyin": "ㄊㄧㄢˇ",
                "phrase": "刀頭舔血 (極危險行為)"
            },
            {
                "book": "第2冊",
                "char": "扉",
                "pinyin": "ㄈㄟ",
                "phrase": "你底心是小小的窗扉緊掩"
            },
            {
                "book": "第2冊",
                "char": "殄",
                "pinyin": "ㄊㄧㄢˇ",
                "phrase": "暴殄天物 (比喻蹭蹋物力，不知珍惜)"
            },
            {
                "book": "第2冊",
                "char": "蜚",
                "pinyin": "ㄈㄟ",
                "phrase": "流言蜚語"
            },
            {
                "book": "第2冊",
                "char": "砒",
                "pinyin": "ㄆㄧ",
                "phrase": "砒霜"
            },
            {
                "book": "第2冊",
                "char": "毗",
                "pinyin": "ㄆㄧˊ",
                "phrase": "毗鄰"
            },
            {
                "book": "第2冊",
                "char": "仳",
                "pinyin": "ㄆㄧˇ",
                "phrase": "仳離"
            },
            {
                "book": "第2冊",
                "char": "妣",
                "pinyin": "ㄅㄧˇ",
                "phrase": "先妣"
            },
            {
                "book": "第2冊",
                "char": "禳",
                "pinyin": "ㄖㄤˊ",
                "phrase": "求福禳災 (求神靈降福)"
            },
            {
                "book": "第2冊",
                "char": "惶",
                "pinyin": "ㄏㄨㄤˊ",
                "phrase": "惶恐不安 (心中驚慌害怕)"
            },
            {
                "book": "第2冊",
                "char": "隍",
                "pinyin": "ㄏㄨㄤˊ",
                "phrase": "城隍廟"
            },
            {
                "book": "第2冊",
                "char": "穰",
                "pinyin": "ㄖㄤˊ",
                "phrase": "歲有凶穰 (穀物每年有歉收與豐熟之時)"
            },
            {
                "book": "第2冊",
                "char": "攘",
                "pinyin": "ㄖㄤˊ",
                "phrase": "熙熙攘攘 (形容人來人往、熱鬧紛雜的樣子)"
            },
            {
                "book": "第2冊",
                "char": "苴",
                "pinyin": "ㄐㄩ",
                "phrase": "《穰苴》"
            },
            {
                "book": "第2冊",
                "char": "疽",
                "pinyin": "ㄐㄩ",
                "phrase": "癰疽 (常見的毒瘡)"
            },
            {
                "book": "第2冊",
                "char": "狙",
                "pinyin": "ㄐㄩ",
                "phrase": "狙擊"
            },
            {
                "book": "第2冊",
                "char": "徨",
                "pinyin": "ㄏㄨㄤˊ",
                "phrase": "徬徨不安"
            },
            {
                "book": "第2冊",
                "char": "潢",
                "pinyin": "ㄏㄨㄤˊ",
                "phrase": "客廳裝潢"
            },
            {
                "book": "第2冊",
                "char": "煌",
                "pinyin": "ㄏㄨㄤˊ",
                "phrase": "金碧輝煌 (建築華麗光彩)"
            },
            {
                "book": "第2冊",
                "char": "孺",
                "pinyin": "ㄖㄨˊ",
                "phrase": "老弱婦孺"
            },
            {
                "book": "第2冊",
                "char": "儒",
                "pinyin": "ㄖㄨˊ",
                "phrase": "溫文儒雅"
            },
            {
                "book": "第2冊",
                "char": "濡",
                "pinyin": "ㄖㄨˊ",
                "phrase": "耳濡目染 (因經常眼見與耳聞而受影響)"
            },
            {
                "book": "第2冊",
                "char": "嚅",
                "pinyin": "ㄖㄨˊ",
                "phrase": "說話囁嚅 (說話吞吞吐吐，欲言又止的樣子)"
            },
            {
                "book": "第2冊",
                "char": "蠕",
                "pinyin": "ㄖㄨˊ",
                "phrase": "腸胃蠕動"
            },
            {
                "book": "第2冊",
                "char": "陛",
                "pinyin": "ㄅㄧˋ",
                "phrase": "皇帝陛下"
            },
            {
                "book": "第2冊",
                "char": "弊",
                "pinyin": "ㄅㄧˋ",
                "phrase": "益州疲弊"
            },
            {
                "book": "第2冊",
                "char": "蔽",
                "pinyin": "ㄅㄧˋ",
                "phrase": "衣不蔽體"
            },
            {
                "book": "第2冊",
                "char": "蜉",
                "pinyin": "ㄈㄨˊ",
                "phrase": "蚍蜉撼樹 (比喻不自量力)"
            },
            {
                "book": "第2冊",
                "char": "裨",
                "pinyin": "ㄅㄧˋ",
                "phrase": "裨補缺漏"
            },
            {
                "book": "第2冊",
                "char": "髀",
                "pinyin": "ㄅㄧˋ",
                "phrase": "髀肉復生 (比喻或自嘆久處安逸，壯志未酬，虛度光陰)"
            },
            {
                "book": "第2冊",
                "char": "睥",
                "pinyin": "ㄅㄧˋ",
                "phrase": "睥睨 (表示輕視)"
            },
            {
                "book": "第2冊",
                "char": "俘",
                "pinyin": "ㄈㄨˊ",
                "phrase": "俘擄"
            },
            {
                "book": "第2冊",
                "char": "曳",
                "pinyin": "ㄧˋ",
                "phrase": "棄甲曳兵而走"
            },
            {
                "book": "第2冊",
                "char": "拽",
                "pinyin": "ㄓㄨㄞˋ",
                "phrase": "生拉硬拽"
            },
            {
                "book": "第2冊",
                "char": "洩",
                "pinyin": "ㄒㄧㄝˋ",
                "phrase": "天機不可洩漏"
            },
            {
                "book": "第2冊",
                "char": "敝",
                "pinyin": "ㄅㄧˋ",
                "phrase": "視若敝屣 (瞧不起)"
            },
            {
                "book": "第2冊",
                "char": "滕",
                "pinyin": "ㄊㄥˊ",
                "phrase": "滕子京謫守巴陵郡"
            },
            {
                "book": "第2冊",
                "char": "菲",
                "pinyin": "ㄈㄟˇ",
                "phrase": "不宜妄自菲薄，引喻失義"
            },
            {
                "book": "第2冊",
                "char": "謄",
                "pinyin": "ㄊㄥˊ",
                "phrase": "戶籍謄本"
            },
            {
                "book": "第2冊",
                "char": "霏",
                "pinyin": "ㄈㄟ",
                "phrase": "日出而林霏開"
            },
            {
                "book": "第2冊",
                "char": "騰",
                "pinyin": "ㄊㄥˊ",
                "phrase": "奔騰澎湃"
            },
            {
                "book": "第2冊",
                "char": "斐",
                "pinyin": "ㄈㄟˇ",
                "phrase": "斐然成章"
            },
            {
                "book": "第2冊",
                "char": "藤",
                "pinyin": "ㄊㄥˊ",
                "phrase": "牽絲攀藤 (糾纏不清)"
            },
            {
                "book": "第2冊",
                "char": "誹",
                "pinyin": "ㄈㄟˇ",
                "phrase": "誹謗"
            },
            {
                "book": "第2冊",
                "char": "讒",
                "pinyin": "ㄔㄢˊ",
                "phrase": "憂讒畏譏"
            },
            {
                "book": "第2冊",
                "char": "纏",
                "pinyin": "ㄔㄢˊ",
                "phrase": "病榻纏綿"
            },
            {
                "book": "第2冊",
                "char": "詰",
                "pinyin": "ㄐㄧㄝˊ",
                "phrase": "反詰修辭"
            },
            {
                "book": "第2冊",
                "char": "饞",
                "pinyin": "ㄔㄢˊ",
                "phrase": "饞涎欲滴"
            },
            {
                "book": "第2冊",
                "char": "髻",
                "pinyin": "ㄐㄧˋ",
                "phrase": "廣袖高髻 (風俗奢蕩豪華)"
            },
            {
                "book": "第2冊",
                "char": "鑱",
                "pinyin": "ㄔㄢˊ",
                "phrase": "手長鑱，為除不潔者"
            },
            {
                "book": "第2冊",
                "char": "鱗",
                "pinyin": "ㄌㄧㄣˊ",
                "phrase": "錦鱗游泳"
            },
            {
                "book": "第2冊",
                "char": "麟",
                "pinyin": "ㄌㄧㄣˊ",
                "phrase": "鳳毛麟角"
            },
            {
                "book": "第2冊",
                "char": "粼",
                "pinyin": "ㄌㄧㄣˊ",
                "phrase": "波光粼粼"
            },
            {
                "book": "第2冊",
                "char": "遴",
                "pinyin": "ㄌㄧㄣˊ",
                "phrase": "遴選人才 (謹慎選擇)"
            },
            {
                "book": "第2冊",
                "char": "暝",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "雲歸而巖穴暝"
            },
            {
                "book": "第2冊",
                "char": "冥",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "冥頑不靈"
            },
            {
                "book": "第2冊",
                "char": "瞑",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "死不瞑目"
            },
            {
                "book": "第2冊",
                "char": "螟",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "螟蛉子 (可代指養子)"
            },
            {
                "book": "第2冊",
                "char": "酩",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "酩酊大醉"
            },
            {
                "book": "第2冊",
                "char": "鳴",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "鐘鳴鼎食"
            },
            {
                "book": "第2冊",
                "char": "徉",
                "pinyin": "ㄧㄤˊ",
                "phrase": "徜徉"
            },
            {
                "book": "第2冊",
                "char": "佯",
                "pinyin": "ㄧㄤˊ",
                "phrase": "被髮佯狂"
            },
            {
                "book": "第2冊",
                "char": "烊",
                "pinyin": "ㄧㄤˊ",
                "phrase": "商店打烊"
            },
            {
                "book": "第2冊",
                "char": "詳",
                "pinyin": "ㄒㄧㄤˊ",
                "phrase": "安詳"
            },
            {
                "book": "第2冊",
                "char": "攣",
                "pinyin": "ㄌㄨㄢˊ",
                "phrase": "肌肉痙攣"
            },
            {
                "book": "第2冊",
                "char": "孿",
                "pinyin": "ㄌㄨㄢˊ",
                "phrase": "孿生兄弟雙胞胎。"
            },
            {
                "book": "第2冊",
                "char": "鑾",
                "pinyin": "ㄌㄨㄢˊ",
                "phrase": "鵝鑾鼻"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "ㄌㄨㄢˊ",
                "phrase": "嘗鼎一臠(見微知著、因小 見大)"
            },
            {
                "book": "第2冊",
                "char": "鸞",
                "pinyin": "ㄌㄨㄢˊ",
                "phrase": "鸞鳳和鳴 (祝賀新婚)"
            },
            {
                "book": "第2冊",
                "char": "輟",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "創作不輟"
            },
            {
                "book": "第2冊",
                "char": "啜",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "低聲啜泣"
            },
            {
                "book": "第2冊",
                "char": "銘",
                "pinyin": "ㄇㄧㄥˊ",
                "phrase": "銘感五內"
            },
            {
                "book": "第2冊",
                "char": "惙",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "憂心惙惙"
            },
            {
                "book": "第2冊",
                "char": "拮",
                "pinyin": "ㄐㄧㄝˊ",
                "phrase": "生活拮据"
            },
            {
                "book": "第2冊",
                "char": "掇",
                "pinyin": "ㄉㄨㄛˊ",
                "phrase": "掇拾史料"
            },
            {
                "book": "第2冊",
                "char": "擷",
                "pinyin": "ㄐㄧㄝˊ",
                "phrase": "採擷花木"
            },
            {
                "book": "第2冊",
                "char": "綴",
                "pinyin": "ㄓㄨㄟˋ",
                "phrase": "點綴裝飾"
            },
            {
                "book": "第3冊",
                "char": "葺",
                "pinyin": "ㄑㄧˋ",
                "phrase": "余稍為修葺，使不上漏"
            },
            {
                "book": "第3冊",
                "char": "焙",
                "pinyin": "ㄅㄟˋ",
                "phrase": "烘焙"
            },
            {
                "book": "第3冊",
                "char": "緝",
                "pinyin": "ㄑㄧˋ",
                "phrase": "查緝酒駕"
            },
            {
                "book": "第3冊",
                "char": "培",
                "pinyin": "ㄆㄟˊ",
                "phrase": "培養"
            },
            {
                "book": "第3冊",
                "char": "輯",
                "pinyin": "ㄐㄧˊ",
                "phrase": "邏輯"
            },
            {
                "book": "第3冊",
                "char": "僻",
                "pinyin": "ㄆㄧˋ",
                "phrase": "個性孤僻"
            },
            {
                "book": "第3冊",
                "char": "揖",
                "pinyin": "ㄧ",
                "phrase": "打躬作揖"
            },
            {
                "book": "第3冊",
                "char": "避",
                "pinyin": "ㄅㄧˋ",
                "phrase": "避重就輕"
            },
            {
                "book": "第3冊",
                "char": "楫",
                "pinyin": "ㄐㄧˊ",
                "phrase": "檣傾楫摧"
            },
            {
                "book": "第3冊",
                "char": "癖",
                "pinyin": "ㄆㄧˇ",
                "phrase": "癖好"
            },
            {
                "book": "第3冊",
                "char": "逡",
                "pinyin": "ㄑㄩㄣ",
                "phrase": "俛首驟入，勿逡巡"
            },
            {
                "book": "第3冊",
                "char": "詡",
                "pinyin": "ㄒㄩˇ",
                "phrase": "自詡遇仙"
            },
            {
                "book": "第3冊",
                "char": "浚",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "疏浚"
            },
            {
                "book": "第3冊",
                "char": "栩栩",
                "pinyin": "ㄒㄩˇ ㄒㄩˇ",
                "phrase": "栩栩如生"
            },
            {
                "book": "第3冊",
                "char": "竣",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "竣工"
            },
            {
                "book": "第3冊",
                "char": "翊",
                "pinyin": "ㄧˋ",
                "phrase": "輔翊 (輔助)"
            },
            {
                "book": "第3冊",
                "char": "梭",
                "pinyin": "ㄙㄨㄛ",
                "phrase": "歲月如梭"
            },
            {
                "book": "第3冊",
                "char": "卒",
                "pinyin": "ㄗㄨˊ",
                "phrase": "身先士卒"
            },
            {
                "book": "第3冊",
                "char": "踣",
                "pinyin": "ㄅㄛˊ",
                "phrase": "頭觸硬壁，驀然而踣"
            },
            {
                "book": "第3冊",
                "char": "粹",
                "pinyin": "ㄘㄨㄟˋ",
                "phrase": "純粹"
            },
            {
                "book": "第3冊",
                "char": "猝",
                "pinyin": "ㄘㄨˋ",
                "phrase": "猝不及防 (忽然發生，來不及防備)"
            },
            {
                "book": "第3冊",
                "char": "檣",
                "pinyin": "ㄑㄧㄤˊ",
                "phrase": "危檣獨夜舟"
            },
            {
                "book": "第3冊",
                "char": "讖",
                "pinyin": "ㄔㄣˋ",
                "phrase": "一語成讖"
            },
            {
                "book": "第3冊",
                "char": "嗇",
                "pinyin": "ㄙㄜˋ",
                "phrase": "個性吝嗇"
            },
            {
                "book": "第3冊",
                "char": "佚",
                "pinyin": "ㄧˋ",
                "phrase": "原書亡佚 (散失)"
            },
            {
                "book": "第3冊",
                "char": "纖",
                "pinyin": "ㄒㄧㄢ",
                "phrase": "纖維"
            },
            {
                "book": "第3冊",
                "char": "迭",
                "pinyin": "ㄉㄧㄝˊ",
                "phrase": "叫苦不迭 (止)"
            },
            {
                "book": "第3冊",
                "char": "懺",
                "pinyin": "ㄔㄢˋ",
                "phrase": "懺悔"
            },
            {
                "book": "第3冊",
                "char": "軼",
                "pinyin": "ㄧˋ",
                "phrase": "軼聞 (不見於正式記載的雜談瑣聞)"
            },
            {
                "book": "第3冊",
                "char": "脾",
                "pinyin": "ㄆㄧˊ",
                "phrase": "不合脾胃"
            },
            {
                "book": "第3冊",
                "char": "裨",
                "pinyin": "ㄅㄧˋ",
                "phrase": "裨補闕漏 (有助於缺失的改善)"
            },
            {
                "book": "第3冊",
                "char": "睥",
                "pinyin": "ㄅㄧˋ",
                "phrase": "睥睨群雄 (斜眼看人，表示傲然輕視)"
            },
            {
                "book": "第3冊",
                "char": "碑",
                "pinyin": "ㄅㄟ",
                "phrase": "里程碑 (指具有重大意義、可以作為標誌的事件)"
            },
            {
                "book": "第3冊",
                "char": "糴",
                "pinyin": "ㄉㄧˊ",
                "phrase": "就先糴些米"
            },
            {
                "book": "第3冊",
                "char": "擢",
                "pinyin": "ㄓㄨㄛˊ",
                "phrase": "拔擢後進 (提拔、升用)"
            },
            {
                "book": "第3冊",
                "char": "躍",
                "pinyin": "ㄩㄝˋ",
                "phrase": "鳶飛魚躍 (萬物任其天性而動，各得其所)"
            },
            {
                "book": "第3冊",
                "char": "濯",
                "pinyin": "ㄓㄨㄛˊ",
                "phrase": "濯纓彈冠 (比喻準備出仕)"
            },
            {
                "book": "第3冊",
                "char": "贖",
                "pinyin": "ㄕㄨˊ",
                "phrase": "贖取金花"
            },
            {
                "book": "第3冊",
                "char": "櫝",
                "pinyin": "ㄉㄨˊ",
                "phrase": "買櫝還珠 (捨本逐末，取捨失當)"
            },
            {
                "book": "第3冊",
                "char": "牘",
                "pinyin": "ㄉㄨˊ",
                "phrase": "連篇累牘 (篇幅過多，文詞冗長)"
            },
            {
                "book": "第3冊",
                "char": "瀆",
                "pinyin": "ㄉㄨˊ",
                "phrase": "官吏瀆職 (有虧職守)"
            },
            {
                "book": "第3冊",
                "char": "闠",
                "pinyin": "ㄏㄨㄟˋ",
                "phrase": "闤闠"
            },
            {
                "book": "第3冊",
                "char": "聵",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "昏聵(愚昧糊塗，不明事理):"
            },
            {
                "book": "第3冊",
                "char": "匱",
                "pinyin": "ㄎㄨㄟˋ",
                "phrase": "不虞匱乏"
            },
            {
                "book": "第3冊",
                "char": "砥",
                "pinyin": "ㄉㄧˇ",
                "phrase": "中流砥柱 (能堅強支撐危局的人)"
            },
            {
                "book": "第3冊",
                "char": "牴",
                "pinyin": "ㄉㄧˇ",
                "phrase": "牴觸 (衝突矛盾)"
            },
            {
                "book": "第3冊",
                "char": "柢",
                "pinyin": "ㄉㄧˇ",
                "phrase": "根深柢固 (基礎堅實，牢不可拔)"
            },
            {
                "book": "第3冊",
                "char": "詆",
                "pinyin": "ㄉㄧˇ",
                "phrase": "詆毀 (說人短處，毀謗他人)"
            },
            {
                "book": "第3冊",
                "char": "邸",
                "pinyin": "ㄉㄧˇ",
                "phrase": "官邸 (高級官員的住所)"
            },
            {
                "book": "第3冊",
                "char": "衢",
                "pinyin": "ㄑㄩˊ",
                "phrase": "通衢大道 (通往各方的交通要道)"
            },
            {
                "book": "第3冊",
                "char": "懼",
                "pinyin": "ㄐㄩˋ",
                "phrase": "恐懼不安"
            },
            {
                "book": "第3冊",
                "char": "攫",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "攫取暴利"
            },
            {
                "book": "第3冊",
                "char": "矍鑠",
                "pinyin": "ㄐㄩㄝˊ ㄕㄨㄛˋ",
                "phrase": "神情矍鑠 (老而強健的樣子)"
            },
            {
                "book": "第3冊",
                "char": "艟",
                "pinyin": "ㄊㄨㄥˊ",
                "phrase": "海艟"
            },
            {
                "book": "第3冊",
                "char": "僮",
                "pinyin": "ㄊㄨㄥˊ",
                "phrase": "僮僕成群"
            },
            {
                "book": "第3冊",
                "char": "瞳",
                "pinyin": "ㄊㄨㄥˊ",
                "phrase": "雙瞳翦水 (形容眼睛清澈明亮)"
            },
            {
                "book": "第3冊",
                "char": "幢幢",
                "pinyin": "ㄔㄨㄤˊ ㄔㄨㄤˊ",
                "phrase": "鬼影幢幢 (形容陰森恐怖的樣子)"
            },
            {
                "book": "第3冊",
                "char": "峙",
                "pinyin": "ㄓˋ",
                "phrase": "街衢對峙"
            },
            {
                "book": "第3冊",
                "char": "懊",
                "pinyin": "ㄠˋ",
                "phrase": "懊悔"
            },
            {
                "book": "第3冊",
                "char": "恃",
                "pinyin": "ㄕˋ",
                "phrase": "居功自恃"
            },
            {
                "book": "第3冊",
                "char": "襖",
                "pinyin": "ㄠˇ",
                "phrase": "棉襖 (有襯裡的上衣)"
            },
            {
                "book": "第3冊",
                "char": "侍",
                "pinyin": "ㄕˋ",
                "phrase": "隨侍在側"
            },
            {
                "book": "第3冊",
                "char": "澳",
                "pinyin": "ㄠˋ",
                "phrase": "南方澳"
            },
            {
                "book": "第3冊",
                "char": "篙",
                "pinyin": "ㄍㄠ",
                "phrase": "篙工撐棹"
            },
            {
                "book": "第3冊",
                "char": "綴",
                "pinyin": "ㄓㄨㄟˋ",
                "phrase": "點綴"
            },
            {
                "book": "第3冊",
                "char": "槁",
                "pinyin": "ㄍㄠˇ",
                "phrase": "槁木死灰"
            },
            {
                "book": "第3冊",
                "char": "啜",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "啜泣"
            },
            {
                "book": "第3冊",
                "char": "縞",
                "pinyin": "ㄍㄠˇ",
                "phrase": "縞素 (純白絹或白色喪服)"
            },
            {
                "book": "第3冊",
                "char": "輟",
                "pinyin": "ㄔㄨㄛˋ",
                "phrase": "輟學"
            },
            {
                "book": "第3冊",
                "char": "燠",
                "pinyin": "ㄩˋ",
                "phrase": "燠熱"
            },
            {
                "book": "第3冊",
                "char": "掇",
                "pinyin": "ㄉㄨㄛˊ",
                "phrase": "掇拾 (採取)"
            },
            {
                "book": "第3冊",
                "char": "齕",
                "pinyin": "ㄏㄜˊ",
                "phrase": "狗迓而齕之"
            },
            {
                "book": "第3冊",
                "char": "齧",
                "pinyin": "ㄋㄧㄝˋ",
                "phrase": "窮鼠齧貓"
            },
            {
                "book": "第3冊",
                "char": "齜",
                "pinyin": "ㄗ",
                "phrase": "齜牙咧嘴"
            },
            {
                "book": "第3冊",
                "char": "齣",
                "pinyin": "ㄔㄨ",
                "phrase": "一齣戲"
            },
            {
                "book": "第3冊",
                "char": "翟",
                "pinyin": "ㄉㄧˊ",
                "phrase": "墨翟"
            },
            {
                "book": "第3冊",
                "char": "擢",
                "pinyin": "ㄓㄨㄛˊ",
                "phrase": "拔擢人才"
            },
            {
                "book": "第3冊",
                "char": "濯濯",
                "pinyin": "ㄓㄨㄛˊ ㄓㄨㄛˊ",
                "phrase": "牛山濯濯"
            },
            {
                "book": "第3冊",
                "char": "躍",
                "pinyin": "ㄩㄝˋ",
                "phrase": "一躍而起"
            },
            {
                "book": "第3冊",
                "char": "嗑",
                "pinyin": "ㄎㄜˋ",
                "phrase": "嗑瓜子"
            },
            {
                "book": "第3冊",
                "char": "溘",
                "pinyin": "ㄎㄜˋ",
                "phrase": "溘然長逝"
            },
            {
                "book": "第3冊",
                "char": "蓋",
                "pinyin": "ㄍㄞˋ",
                "phrase": "亭亭如蓋"
            },
            {
                "book": "第3冊",
                "char": "瞌",
                "pinyin": "ㄎㄜ",
                "phrase": "打瞌睡"
            },
            {
                "book": "第3冊",
                "char": "磕",
                "pinyin": "ㄎㄜ",
                "phrase": "磕頭"
            },
            {
                "book": "第3冊",
                "char": "跖",
                "pinyin": "ㄓˊ",
                "phrase": "盜跖"
            },
            {
                "book": "第3冊",
                "char": "拓",
                "pinyin": "ㄊㄨㄛˋ",
                "phrase": "拓荒者"
            },
            {
                "book": "第3冊",
                "char": "宕",
                "pinyin": "ㄉㄤˋ",
                "phrase": "懸宕已久"
            },
            {
                "book": "第3冊",
                "char": "詛",
                "pinyin": "ㄗㄨˇ",
                "phrase": "詛咒"
            },
            {
                "book": "第3冊",
                "char": "殂",
                "pinyin": "ㄘㄨˊ",
                "phrase": "中道崩殂"
            },
            {
                "book": "第3冊",
                "char": "沮",
                "pinyin": "ㄐㄩˇ",
                "phrase": "心情沮喪"
            },
            {
                "book": "第3冊",
                "char": "狙",
                "pinyin": "ㄐㄩ",
                "phrase": "狙擊"
            },
            {
                "book": "第3冊",
                "char": "齕",
                "pinyin": "ㄏㄜˊ",
                "phrase": "狗迓而齕之"
            },
            {
                "book": "第3冊",
                "char": "迄",
                "pinyin": "ㄑㄧˋ",
                "phrase": "迄今"
            },
            {
                "book": "第3冊",
                "char": "訖",
                "pinyin": "ㄑㄧˋ",
                "phrase": "銀貨兩訖"
            },
            {
                "book": "第3冊",
                "char": "履",
                "pinyin": "ㄌㄩˇ",
                "phrase": "鄭人買履"
            },
            {
                "book": "第3冊",
                "char": "屢",
                "pinyin": "ㄌㄩˇ",
                "phrase": "屢戰屢敗"
            },
            {
                "book": "第3冊",
                "char": "屨",
                "pinyin": "ㄐㄩˋ",
                "phrase": "窺戶者足無止屨"
            },
            {
                "book": "第3冊",
                "char": "驅",
                "pinyin": "ㄑㄩ",
                "phrase": "並駕齊驅"
            },
            {
                "book": "第3冊",
                "char": "趨",
                "pinyin": "ㄑㄩ",
                "phrase": "趨之若鶩"
            },
            {
                "book": "第3冊",
                "char": "屈",
                "pinyin": "ㄑㄩ",
                "phrase": "首屈一指"
            },
            {
                "book": "第3冊",
                "char": "央",
                "pinyin": "ㄧㄤ",
                "phrase": "誰可央託"
            },
            {
                "book": "第3冊",
                "char": "殃",
                "pinyin": "ㄧㄤ",
                "phrase": "殃及池魚 (比喻無故受累)"
            },
            {
                "book": "第3冊",
                "char": "秧",
                "pinyin": "ㄧㄤ",
                "phrase": "水稻秧苗"
            },
            {
                "book": "第3冊",
                "char": "泱",
                "pinyin": "ㄧㄤ",
                "phrase": "泱泱大國 (稱讚國力強大的國家)"
            },
            {
                "book": "第3冊",
                "char": "翌",
                "pinyin": "ㄧˋ",
                "phrase": "翌年 (=隔年)"
            },
            {
                "book": "第3冊",
                "char": "羿",
                "pinyin": "ㄧˋ",
                "phrase": "后羿射日"
            },
            {
                "book": "第3冊",
                "char": "翼",
                "pinyin": "ㄧˋ",
                "phrase": "不翼而飛"
            },
            {
                "book": "第3冊",
                "char": "鴦",
                "pinyin": "ㄧㄤ",
                "phrase": "亂點鴛鴦譜 (將未婚男女胡亂湊成夫妻)"
            },
            {
                "book": "第3冊",
                "char": "締",
                "pinyin": "ㄉㄧˋ",
                "phrase": "取締酒駕"
            },
            {
                "book": "第3冊",
                "char": "蒂",
                "pinyin": "ㄉㄧˋ",
                "phrase": "瓜熟蒂落"
            },
            {
                "book": "第3冊",
                "char": "諦",
                "pinyin": "ㄉㄧˋ",
                "phrase": "凝神諦聽"
            },
            {
                "book": "第3冊",
                "char": "遞",
                "pinyin": "ㄉㄧˋ",
                "phrase": "遞送物品"
            },
            {
                "book": "第3冊",
                "char": "牴",
                "pinyin": "ㄉㄧˇ",
                "phrase": "牴觸 (引申為觸犯)"
            },
            {
                "book": "第3冊",
                "char": "柢",
                "pinyin": "ㄉㄧˇ",
                "phrase": "追根究柢"
            },
            {
                "book": "第3冊",
                "char": "砥",
                "pinyin": "ㄉㄧˇ",
                "phrase": "砥礪 (引申為磨練)"
            },
            {
                "book": "第3冊",
                "char": "詆",
                "pinyin": "ㄉㄧˇ",
                "phrase": "詆毀 (毀謗)"
            },
            {
                "book": "第3冊",
                "char": "挈",
                "pinyin": "ㄑㄧㄝˋ",
                "phrase": "提綱挈領"
            },
            {
                "book": "第3冊",
                "char": "契",
                "pinyin": "ㄑㄧˋ",
                "phrase": "情意相契"
            },
            {
                "book": "第3冊",
                "char": "鍥",
                "pinyin": "ㄑㄧㄝˋ",
                "phrase": "鍥而不舍，金石可鏤"
            },
            {
                "book": "第3冊",
                "char": "楔",
                "pinyin": "ㄒㄧㄝ",
                "phrase": "楔子 (小說前的序文)"
            },
            {
                "book": "第3冊",
                "char": "喫",
                "pinyin": "ㄔ",
                "phrase": "喫茶"
            },
            {
                "book": "第3冊",
                "char": "戍",
                "pinyin": "ㄕㄨˋ",
                "phrase": "戍守邊疆"
            },
            {
                "book": "第3冊",
                "char": "戌",
                "pinyin": "ㄒㄩ",
                "phrase": "戌時 (晚上七點到九點)"
            },
            {
                "book": "第3冊",
                "char": "戊",
                "pinyin": "ㄨˋ",
                "phrase": "戊戌變法"
            },
            {
                "book": "第3冊",
                "char": "闥",
                "pinyin": "ㄊㄚˋ",
                "phrase": "排闥而去"
            },
            {
                "book": "第3冊",
                "char": "達",
                "pinyin": "ㄉㄚˊ",
                "phrase": "四通八達"
            },
            {
                "book": "第3冊",
                "char": "撻",
                "pinyin": "ㄊㄚˋ",
                "phrase": "引來撻伐"
            },
            {
                "book": "第3冊",
                "char": "袂",
                "pinyin": "ㄇㄟˋ",
                "phrase": "連袂同行 (比喻共同動作)"
            },
            {
                "book": "第3冊",
                "char": "決",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "猶豫不決"
            },
            {
                "book": "第3冊",
                "char": "缺",
                "pinyin": "ㄑㄩㄝ",
                "phrase": "完美無缺"
            },
            {
                "book": "第3冊",
                "char": "訣",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "就此訣別"
            },
            {
                "book": "第3冊",
                "char": "抉",
                "pinyin": "ㄐㄩㄝˊ",
                "phrase": "抉擇"
            },
            {
                "book": "第3冊",
                "char": "髯",
                "pinyin": "ㄖㄢˊ",
                "phrase": "虬髯客"
            },
            {
                "book": "第3冊",
                "char": "鬈",
                "pinyin": "ㄑㄩㄢˊ",
                "phrase": "一頭鬈髮"
            },
            {
                "book": "第3冊",
                "char": "髭",
                "pinyin": "ㄗ",
                "phrase": "下擔持髭鬚"
            },
            {
                "book": "第3冊",
                "char": "髫",
                "pinyin": "ㄊㄧㄠˊ",
                "phrase": "黃髮垂髫"
            },
            {
                "book": "第3冊",
                "char": "攏",
                "pinyin": "ㄌㄨㄥˇ",
                "phrase": "攏絡人心"
            },
            {
                "book": "第3冊",
                "char": "隴",
                "pinyin": "ㄌㄨㄥˇ",
                "phrase": "得隴望蜀"
            },
            {
                "book": "第3冊",
                "char": "壟",
                "pinyin": "ㄌㄨㄥˇ",
                "phrase": "壟斷市場"
            },
            {
                "book": "第3冊",
                "char": "鍘",
                "pinyin": "ㄓㄚˊ",
                "phrase": "鍘美案"
            },
            {
                "book": "第3冊",
                "char": "紮",
                "pinyin": "ㄓㄚ",
                "phrase": "口感紮實"
            },
            {
                "book": "第3冊",
                "char": "閘",
                "pinyin": "ㄓㄚˊ",
                "phrase": "驗票閘門"
            },
            {
                "book": "第3冊",
                "char": "僂",
                "pinyin": "ㄌㄡˊ",
                "phrase": "佝僂身影"
            },
            {
                "book": "第3冊",
                "char": "樓",
                "pinyin": "ㄌㄡˊ",
                "phrase": "人去樓空"
            },
            {
                "book": "第3冊",
                "char": "髏",
                "pinyin": "ㄌㄡˊ",
                "phrase": "駭人骷髏"
            },
            {
                "book": "第3冊",
                "char": "螻",
                "pinyin": "ㄌㄡˊ",
                "phrase": "螻蟻尚且偷生"
            },
            {
                "book": "第3冊",
                "char": "枷",
                "pinyin": "ㄐㄧㄚ",
                "phrase": "枷鎖"
            },
            {
                "book": "第3冊",
                "char": "痂",
                "pinyin": "ㄐㄧㄚ",
                "phrase": "傷口結痂"
            },
            {
                "book": "第3冊",
                "char": "伽",
                "pinyin": "ㄐㄧㄚ",
                "phrase": "瑜伽課"
            },
            {
                "book": "第3冊",
                "char": "黯",
                "pinyin": "ㄢˋ",
                "phrase": "神色黯然"
            },
            {
                "book": "第3冊",
                "char": "暗",
                "pinyin": "ㄢˋ",
                "phrase": "明槍暗箭"
            },
            {
                "book": "第3冊",
                "char": "闇",
                "pinyin": "ㄢˋ",
                "phrase": "性格闇弱"
            },
            {
                "book": "第3冊",
                "char": "伶",
                "pinyin": "ㄌㄧㄥˊ",
                "phrase": "歌劇名伶"
            },
            {
                "book": "第3冊",
                "char": "聆",
                "pinyin": "ㄌㄧㄥˊ",
                "phrase": "聆聽音樂"
            },
            {
                "book": "第3冊",
                "char": "玲",
                "pinyin": "ㄌㄧㄥˊ",
                "phrase": "小巧玲瓏"
            },
            {
                "book": "第3冊",
                "char": "譴",
                "pinyin": "ㄑㄧㄢˇ",
                "phrase": "譴責"
            },
            {
                "book": "第3冊",
                "char": "遣",
                "pinyin": "ㄑㄧㄢˇ",
                "phrase": "派遣"
            },
            {
                "book": "第3冊",
                "char": "殫",
                "pinyin": "ㄉㄢ",
                "phrase": "殫精竭慮"
            },
            {
                "book": "第3冊",
                "char": "憚",
                "pinyin": "ㄉㄢˋ",
                "phrase": "肆無忌憚"
            },
            {
                "book": "第4冊",
                "char": "繆",
                "pinyin": "ㄇㄨˋ",
                "phrase": "秦繆公 (通「穆」)"
            },
            {
                "book": "第4冊",
                "char": "綢繆",
                "pinyin": "ㄔㄡˊ ㄇㄡˊ",
                "phrase": "未雨綢繆"
            },
            {
                "book": "第4冊",
                "char": "繆",
                "pinyin": "ㄇㄧㄡˋ",
                "phrase": "繆論 (通「謬」)"
            },
            {
                "book": "第4冊",
                "char": "繆",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "山川相繆"
            },
            {
                "book": "第4冊",
                "char": "繆",
                "pinyin": "ㄇㄧㄠˋ",
                "phrase": "繆先生"
            },
            {
                "book": "第4冊",
                "char": "髀",
                "pinyin": "ㄅㄧˋ",
                "phrase": "彈箏搏髀"
            },
            {
                "book": "第4冊",
                "char": "俾",
                "pinyin": "ㄅㄧˋ",
                "phrase": "俾使、俾能自立"
            },
            {
                "book": "第4冊",
                "char": "睥",
                "pinyin": "ㄅㄧˋ",
                "phrase": "睥睨"
            },
            {
                "book": "第4冊",
                "char": "裨",
                "pinyin": "ㄅㄧˋ",
                "phrase": "必能裨補闕漏，有所廣益"
            },
            {
                "book": "第4冊",
                "char": "捭",
                "pinyin": "ㄅㄞˇ",
                "phrase": "縱橫捭闔"
            },
            {
                "book": "第4冊",
                "char": "稗",
                "pinyin": "ㄅㄞˋ",
                "phrase": "稗官野史"
            },
            {
                "book": "第4冊",
                "char": "顰",
                "pinyin": "ㄆㄧㄣˊ",
                "phrase": "顰眉"
            },
            {
                "book": "第4冊",
                "char": "傾",
                "pinyin": "ㄑㄧㄥ",
                "phrase": "高下相傾；傾酒、傾盆大雨；傾心、傾慕"
            },
            {
                "book": "第4冊",
                "char": "頃",
                "pinyin": "ㄑㄧㄥˇ",
                "phrase": "頃刻、俄頃；頃聞佳音；公頃、一碧萬頃"
            },
            {
                "book": "第4冊",
                "char": "恃",
                "pinyin": "ㄕˋ",
                "phrase": "為而不恃、恃強凌弱"
            },
            {
                "book": "第4冊",
                "char": "侍",
                "pinyin": "ㄕˋ",
                "phrase": "服侍、陪侍"
            },
            {
                "book": "第4冊",
                "char": "峙",
                "pinyin": "ㄓˋ",
                "phrase": "對峙"
            },
            {
                "book": "第4冊",
                "char": "軱",
                "pinyin": "ㄍㄨ",
                "phrase": "大軱"
            },
            {
                "book": "第4冊",
                "char": "觚",
                "pinyin": "ㄍㄨ",
                "phrase": "率爾操觚 (不加思索，揮筆成文)"
            },
            {
                "book": "第4冊",
                "char": "謋",
                "pinyin": "ㄏㄨㄛˋ",
                "phrase": "謋然已解 (骨肉分離聲)"
            },
            {
                "book": "第4冊",
                "char": "桀",
                "pinyin": "ㄐㄧㄝˊ",
                "phrase": "桀驁不馴"
            },
            {
                "book": "第4冊",
                "char": "磔",
                "pinyin": "ㄓㄜˊ",
                "phrase": "磔刑 (分裂肢體)"
            },
            {
                "book": "第4冊",
                "char": "聃",
                "pinyin": "ㄉㄢ",
                "phrase": "聃耳 (耳長而大)；老聃"
            },
            {
                "book": "第4冊",
                "char": "苒",
                "pinyin": "ㄖㄢˇ",
                "phrase": "荏苒 (漸漸的樣子)"
            },
            {
                "book": "第4冊",
                "char": "髯",
                "pinyin": "ㄖㄢˊ",
                "phrase": "虬髯"
            },
            {
                "book": "第4冊",
                "char": "旖",
                "pinyin": "ㄧˇ",
                "phrase": "旖旎"
            },
            {
                "book": "第4冊",
                "char": "綺",
                "pinyin": "ㄑㄧˇ",
                "phrase": "綺麗、綺年玉貌"
            },
            {
                "book": "第四冊",
                "char": "踦",
                "pinyin": "ㄧˇ",
                "phrase": "膝之所踦（抵住）"
            },
            {
                "book": "第4冊",
                "char": "犄",
                "pinyin": "ㄐㄧ",
                "phrase": "犄角 (獸角)"
            },
            {
                "book": "第4冊",
                "char": "緋",
                "pinyin": "ㄈㄟ",
                "phrase": "緋麗、緋紅 (紅色)"
            },
            {
                "book": "第4冊",
                "char": "悱",
                "pinyin": "ㄈㄟˇ",
                "phrase": "纏綿悱惻 (悲切動人)"
            },
            {
                "book": "第4冊",
                "char": "誹",
                "pinyin": "ㄈㄟˇ",
                "phrase": "誹謗"
            },
            {
                "book": "第4冊",
                "char": "蜚",
                "pinyin": "ㄈㄟ",
                "phrase": "蜚聲國際；流言蜚語"
            },
            {
                "book": "第4冊",
                "char": "菲",
                "pinyin": "ㄈㄟ",
                "phrase": "人間四月芳菲盡 (花草芳香豔麗)"
            },
            {
                "book": "第4冊",
                "char": "菲",
                "pinyin": "ㄈㄟˇ",
                "phrase": "微薄 (不宜妄自菲薄) ；菲酌、菲儀、價值不菲"
            },
            {
                "book": "第4冊",
                "char": "斐",
                "pinyin": "ㄈㄟˇ",
                "phrase": "斐然成章 (具有文采)"
            },
            {
                "book": "第4冊",
                "char": "霏",
                "pinyin": "ㄈㄟ",
                "phrase": "若夫霪雨霏霏 (雨雪綿密) ；日出而林霏開 (霧氣)"
            },
            {
                "book": "第4冊",
                "char": "扉",
                "pinyin": "ㄈㄟ",
                "phrase": "你底心是小小的窗扉緊掩"
            },
            {
                "book": "第4冊",
                "char": "魘",
                "pinyin": "ㄧㄢˇ",
                "phrase": "魘夢"
            },
            {
                "book": "第4冊",
                "char": "饜",
                "pinyin": "ㄧㄢˋ",
                "phrase": "貪得無饜 (滿足)"
            },
            {
                "book": "第4冊",
                "char": "靨",
                "pinyin": "ㄧㄝˋ",
                "phrase": "笑靨"
            },
            {
                "book": "第4冊",
                "char": "翼",
                "pinyin": "ㄧˋ",
                "phrase": "羽翼、不翼而飛"
            },
            {
                "book": "第4冊",
                "char": "冀",
                "pinyin": "ㄐㄧˋ",
                "phrase": "希冀、冀求"
            },
            {
                "book": "第4冊",
                "char": "杏",
                "pinyin": "ㄒㄧㄥˋ",
                "phrase": "銀杏"
            },
            {
                "book": "第4冊",
                "char": "杳",
                "pinyin": "ㄧㄠˇ",
                "phrase": "杳無音信、杳無人蹤"
            },
            {
                "book": "第4冊",
                "char": "鬈",
                "pinyin": "ㄑㄩㄢˊ",
                "phrase": "鬈髮"
            },
            {
                "book": "第4冊",
                "char": "蜷",
                "pinyin": "ㄑㄩㄢˊ",
                "phrase": "蜷縮"
            },
            {
                "book": "第4冊",
                "char": "捲",
                "pinyin": "ㄐㄩㄢˇ",
                "phrase": "蛋捲、春捲"
            },
            {
                "book": "第4冊",
                "char": "圮",
                "pinyin": "ㄆㄧˇ",
                "phrase": "頹圮"
            },
            {
                "book": "第4冊",
                "char": "杞",
                "pinyin": "ㄑㄧˇ",
                "phrase": "杞人憂天"
            },
            {
                "book": "第4冊",
                "char": "梨",
                "pinyin": "ㄌㄧˊ",
                "phrase": "梨樹"
            },
            {
                "book": "第4冊",
                "char": "犁",
                "pinyin": "ㄌㄧˊ",
                "phrase": "犁田"
            },
            {
                "book": "第4冊",
                "char": "黎",
                "pinyin": "ㄌㄧˊ",
                "phrase": "黎明"
            },
            {
                "book": "第4冊",
                "char": "擰",
                "pinyin": "ㄋㄧㄥˇ",
                "phrase": "擰開、擰乾"
            },
            {
                "book": "第4冊",
                "char": "獰",
                "pinyin": "ㄋㄧㄥˊ",
                "phrase": "猙獰"
            },
            {
                "book": "第4冊",
                "char": "嚀",
                "pinyin": "ㄋㄧㄥˊ",
                "phrase": "叮嚀"
            },
            {
                "book": "第4冊",
                "char": "濘",
                "pinyin": "ㄋㄧㄥˋ",
                "phrase": "泥濘"
            },
            {
                "book": "第4冊",
                "char": "腴",
                "pinyin": "ㄩˊ",
                "phrase": "膏腴之壤"
            },
            {
                "book": "第4冊",
                "char": "諛",
                "pinyin": "ㄩˊ",
                "phrase": "阿諛奉承"
            },
            {
                "book": "第4冊",
                "char": "萸",
                "pinyin": "ㄩˊ",
                "phrase": "遍插茱萸少一人"
            },
            {
                "book": "第4冊",
                "char": "庾",
                "pinyin": "ㄩˇ",
                "phrase": "庾澄慶"
            },
            {
                "book": "第4冊",
                "char": "簪",
                "pinyin": "ㄗㄢ",
                "phrase": "綰珠之簪"
            },
            {
                "book": "第4冊",
                "char": "僭",
                "pinyin": "ㄐㄧㄢˋ",
                "phrase": "僭越"
            },
            {
                "book": "第4冊",
                "char": "潛",
                "pinyin": "ㄑㄧㄢˊ",
                "phrase": "激發潛力"
            },
            {
                "book": "第4冊",
                "char": "讚",
                "pinyin": "ㄗㄢˋ",
                "phrase": "讚言"
            },
            {
                "book": "第4冊",
                "char": "弗",
                "pinyin": "ㄈㄨˊ",
                "phrase": "功成弗居"
            },
            {
                "book": "第4冊",
                "char": "氟",
                "pinyin": "ㄈㄨˊ",
                "phrase": "氟化物"
            },
            {
                "book": "第4冊",
                "char": "拂",
                "pinyin": "ㄅㄧˋ",
                "phrase": "法家拂士 (謹守法度的臣子和輔助君王的賢士)"
            },
            {
                "book": "第4冊",
                "char": "窕",
                "pinyin": "ㄊㄧㄠˇ",
                "phrase": "窈窕淑女"
            },
            {
                "book": "第4冊",
                "char": "佻",
                "pinyin": "ㄊㄧㄠˊ",
                "phrase": "舉止輕佻"
            },
            {
                "book": "第4冊",
                "char": "髀",
                "pinyin": "ㄅㄧˋ",
                "phrase": "彈箏搏髀"
            },
            {
                "book": "第4冊",
                "char": "裨",
                "pinyin": "ㄅㄧˋ",
                "phrase": "大有裨益"
            },
            {
                "book": "第4冊",
                "char": "駿",
                "pinyin": "ㄐㄩㄣˋ",
                "phrase": "駿馬馳騁"
            },
            {
                "book": "第4冊",
                "char": "悛",
                "pinyin": "ㄑㄩㄢ",
                "phrase": "怙惡不悛"
            },
            {
                "book": "第4冊",
                "char": "彊",
                "pinyin": "ㄑㄧㄤˊ",
                "phrase": "國以富彊"
            },
            {
                "book": "第4冊",
                "char": "疆",
                "pinyin": "ㄐㄧㄤ",
                "phrase": "邊疆民族"
            },
            {
                "book": "第4冊",
                "char": "腴",
                "pinyin": "ㄩˊ",
                "phrase": "膏腴之地"
            },
            {
                "book": "第4冊",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第4冊",
                "char": "縞",
                "pinyin": "ㄍㄠˇ",
                "phrase": "阿縞之衣"
            },
            {
                "book": "第4冊",
                "char": "槁",
                "pinyin": "ㄍㄠˇ",
                "phrase": "槁木死灰"
            },
            {
                "book": "第4冊",
                "char": "璣",
                "pinyin": "ㄐㄧ",
                "phrase": "傅璣之珥"
            },
            {
                "book": "第4冊",
                "char": "譏",
                "pinyin": "ㄐㄧ",
                "phrase": "反脣相譏"
            },
            {
                "book": "第4冊",
                "char": "黔",
                "pinyin": "ㄑㄧㄢˊ",
                "phrase": "布衣黔首"
            },
            {
                "book": "第4冊",
                "char": "黔",
                "pinyin": "ㄑㄧㄢˊ",
                "phrase": "黔驢技窮"
            },
            {
                "book": "第4冊",
                "char": "翼",
                "pinyin": "ㄧˋ",
                "phrase": "不翼而飛"
            },
            {
                "book": "第4冊",
                "char": "冀",
                "pinyin": "ㄐㄧˋ",
                "phrase": "滿懷希冀"
            },
            {
                "book": "第4冊",
                "char": "畏",
                "pinyin": "ㄨㄟˋ",
                "phrase": "不畏強敵"
            },
            {
                "book": "第4冊",
                "char": "偎",
                "pinyin": "ㄨㄟ",
                "phrase": "偎香倚玉"
            },
            {
                "book": "第4冊",
                "char": "陷",
                "pinyin": "ㄒㄧㄢˋ",
                "phrase": "地層下陷"
            },
            {
                "book": "第4冊",
                "char": "埳",
                "pinyin": "ㄎㄢˇ",
                "phrase": "埳井之蛙"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第4冊",
                "char": "委",
                "pinyin": "ㄨㄟˇ",
                "phrase": "如土委地 (散落) 、推委責任 (推託)"
            },
            {
                "book": "第4冊",
                "char": "履",
                "pinyin": "ㄌㄩˇ",
                "phrase": "足之所履 (踩踏) 、削足適履 (鞋子)"
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "",
                "char": "",
                "pinyin": "",
                "phrase": ""
            },
            {
                "book": "第5冊",
                "char": "眥",
                "pinyin": "ㄗˋ",
                "phrase": "眼眶。目眥盡裂、睚眥必報 (指極小的怨恨也一定要報復)。"
            },
            {
                "book": "第5冊",
                "char": "貲",
                "pinyin": "ㄗ",
                "phrase": "計算、估量。所費不貲。/財貨。家貲萬貫、捐貲。"
            },
            {
                "book": "第5冊",
                "char": "齜",
                "pinyin": "ㄗ",
                "phrase": "張嘴露牙的樣子。齜牙咧嘴。"
            },
            {
                "book": "第5冊",
                "char": "疵",
                "pinyin": "ㄘ",
                "phrase": "毛病、缺點。瑕疵、吹毛求疵。"
            },
            {
                "book": "第5冊",
                "char": "俎",
                "pinyin": "ㄗㄨˇ",
                "phrase": "砧板。越俎代庖 (比喻踰越自己的職分而待人做事)。"
            },
            {
                "book": "第5冊",
                "char": "殂",
                "pinyin": "ㄘㄨˊ",
                "phrase": "死亡。崩殂、殂落。"
            },
            {
                "book": "第5冊",
                "char": "狙",
                "pinyin": "ㄐㄩ",
                "phrase": "伺機、窺伺。狙擊、狙殺。"
            },
            {
                "book": "第5冊",
                "char": "沮",
                "pinyin": "ㄐㄩˇ",
                "phrase": "頹喪、意志消沉。沮喪、氣沮。"
            },
            {
                "book": "第5冊",
                "char": "咀",
                "pinyin": "ㄐㄩˇ",
                "phrase": "嚼食。咀嚼、含英咀華 (品味文章的要旨及辭藻的華美)。"
            },
            {
                "book": "第5冊",
                "char": "詛",
                "pinyin": "ㄗㄨˇ",
                "phrase": "咒罵或祈求鬼神降禍給他人。詛咒、詛罵。"
            },
            {
                "book": "第5冊",
                "char": "疽",
                "pinyin": "ㄐㄩ",
                "phrase": "一種毒瘡。巨疽、壞疽。"
            },
            {
                "book": "第5冊",
                "char": "蛆",
                "pinyin": "ㄑㄩ",
                "phrase": "蠅類的幼蟲。蛆蟲。"
            },
            {
                "book": "第5冊",
                "char": "膾",
                "pinyin": "ㄎㄨㄞˋ",
                "phrase": "細切的肉絲。膾炙人口。"
            },
            {
                "book": "第5冊",
                "char": "獪",
                "pinyin": "ㄎㄨㄞˋ",
                "phrase": "奸詐、狡猾。狡獪、狙獪。"
            },
            {
                "book": "第5冊",
                "char": "劊",
                "pinyin": "ㄎㄨㄞˋ",
                "phrase": "砍斷。劊子手。"
            },
            {
                "book": "第5冊",
                "char": "畛",
                "pinyin": "ㄓㄣˇ",
                "phrase": "界限。若分畛域。/田間分界的道路。畦畛。"
            },
            {
                "book": "第5冊",
                "char": "診",
                "pinyin": "ㄓㄣˇ",
                "phrase": "察看。悉心問診。"
            },
            {
                "book": "第5冊",
                "char": "珍",
                "pinyin": "ㄓㄣ",
                "phrase": "稀有貴重的寶物。珍寶。/愛惜、重視。珍惜。"
            },
            {
                "book": "第5冊",
                "char": "軫",
                "pinyin": "ㄓㄣˇ",
                "phrase": "傷痛、憐憫。軫懷、軫念。/星宿名。軫宿。"
            },
            {
                "book": "第5冊",
                "char": "殄",
                "pinyin": "ㄊㄧㄢˇ",
                "phrase": "盡除、滅絕。殄絕。/浪費、糟蹋。暴殄天物。"
            },
            {
                "book": "第5冊",
                "char": "疹",
                "pinyin": "ㄓㄣˇ",
                "phrase": "皮膚上起的紅色顆粒。溼疹、麻疹。"
            },
            {
                "book": "第5冊",
                "char": "揆",
                "pinyin": "ㄎㄨㄟˊ",
                "phrase": "審度、仔細思考。揆情度理。/統理國政的官員。首揆、閣揆。"
            },
            {
                "book": "第5冊",
                "char": "睽",
                "pinyin": "ㄎㄨㄟˊ",
                "phrase": "分離。睽違。/張眼注視的樣子。眾目睽睽。"
            },
            {
                "book": "第5冊",
                "char": "癸",
                "pinyin": "ㄍㄨㄟˇ",
                "phrase": "天干的第十位。歲在癸丑。"
            },
            {
                "book": "第5冊",
                "char": "遏",
                "pinyin": "ㄜˋ",
                "phrase": "阻止。莫可阻遏。"
            },
            {
                "book": "第5冊",
                "char": "竭",
                "pinyin": "ㄐㄧㄝˊ",
                "phrase": "窮盡。竭誠化導。"
            },
            {
                "book": "第5冊",
                "char": "揭",
                "pinyin": "ㄐㄧㄝ",
                "phrase": "高舉。揭其劍、揭竿而起。"
            },
            {
                "book": "第5冊",
                "char": "褐",
                "pinyin": "ㄏㄜˊ",
                "phrase": "粗布衣服。短褐穿結、褐衣疏食。"
            },
            {
                "book": "第5冊",
                "char": "謁",
                "pinyin": "ㄧㄝˋ",
                "phrase": "拜見。以布衣來謁。"
            },
            {
                "book": "第5冊",
                "char": "愒",
                "pinyin": "ㄎㄞˋ",
                "phrase": "貪圖。玩日愒歲 (怠惰偷安，虛度光陰)。"
            },
            {
                "book": "第5冊",
                "char": "歇",
                "pinyin": "ㄒㄧㄝ",
                "phrase": "停止。歇業、歇工。"
            },
            {
                "book": "第5冊",
                "char": "燎",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "燃燒、延燒。燎原。"
            },
            {
                "book": "第5冊",
                "char": "撩",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "挑弄、逗引。姿態撩人。/紛亂。眼花撩亂。"
            },
            {
                "book": "第5冊",
                "char": "僚",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "官吏。官僚、幕僚。"
            },
            {
                "book": "第5冊",
                "char": "繚",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "纏繞、圍繞。香煙繚繞。"
            },
            {
                "book": "第5冊",
                "char": "遼",
                "pinyin": "ㄌㄧㄠˊ",
                "phrase": "開闊。遼闊。"
            },
            {
                "book": "第5冊",
                "char": "咳",
                "pinyin": "ㄎㄜˊ",
                "phrase": "氣管受刺激，將氣體用力排出。喘咳、咳唾成珠。"
            },
            {
                "book": "第5冊",
                "char": "駭",
                "pinyin": "ㄏㄞˋ",
                "phrase": "吃驚、害怕。驚駭、駭人耳目。"
            },
            {
                "book": "第5冊",
                "char": "骸",
                "pinyin": "ㄏㄞˊ",
                "phrase": "軀體、形體。形骸、遺骸。"
            },
            {
                "book": "第5冊",
                "char": "劾",
                "pinyin": "ㄏㄜˊ",
                "phrase": "檢舉、揭發。彈劾、深文巧劾。"
            },
            {
                "book": "第5冊",
                "char": "賅",
                "pinyin": "ㄍㄞ",
                "phrase": "充足、完備的。言簡意賅。"
            },
            {
                "book": "第5冊",
                "char": "鬩",
                "pinyin": "ㄒㄧˋ",
                "phrase": "爭吵。鬩牆。"
            },
            {
                "book": "第5冊",
                "char": "睨",
                "pinyin": "ㄋㄧˋ",
                "phrase": "斜著眼睛看。傲睨萬物。"
            },
            {
                "book": "第5冊",
                "char": "倪",
                "pinyin": "ㄋㄧˊ",
                "phrase": "頭緒。端倪。"
            }
                ]
                
                ,init() {
                this.allCards = this.sampleData.map(card => ({...card, id: this.generateCardId(card)}));
                this.addEventListeners();
                this.setupStarredListener();
                this.buildDeck();
            },
            destroy() {
                if (this.unsubscribeStarred) this.unsubscribeStarred();
            },
            generateCardId(card) {
                return `${card.char}_${card.phrase}`;
            },
            parseCSV(text) {
                const lines = text.trim().split('\n');
                return lines.map(line => {
                    const [book, char, pinyin, phrase] = line.split(',').map(s => s.trim());
                    if (book && char && pinyin && phrase) {
                        const cardData = { book, char, pinyin, phrase };
                        cardData.id = this.generateCardId(cardData);
                        return cardData;
                    }
                    return null;
                }).filter(Boolean);
            },
            buildDeck() {
                const selectedBook = this.bookSelect.value;
                let filteredByBook = (selectedBook === 'starred') 
                    ? this.allCards.filter(card => this.starredCardIds.has(card.id))
                    : (selectedBook !== 'all') 
                        ? this.allCards.filter(card => card.book === selectedBook)
                        : this.allCards;
                this.currentDeck = [];
                const selectedMode = this.modeSelect.value;
                if (selectedMode === 'mixed') {
                    filteredByBook.forEach(card => {
                        this.currentDeck.push({ ...card, type: 'pronunciation' });
                        this.currentDeck.push({ ...card, type: 'character' });
                    });
                } else {
                    filteredByBook.forEach(card => this.currentDeck.push({ ...card, type: selectedMode }));
                }
                this.currentDeck.sort(() => Math.random() - 0.5);
                this.currentIndex = 0;
                this.flashcard.classList.remove('is-flipped');
                this.displayCard();
            },
            displayCard() {
                const hasDeck = this.currentDeck.length > 0;
                this.starBtn.style.display = hasDeck ? 'block' : 'none';
                if (!hasDeck) {
                    this.cardFront.innerHTML = `<p class="text-xl text-gray-500">沒有可用的卡片。<br>請選擇不同條件或上傳CSV檔。</p>`;
                    this.cardBack.innerHTML = '';
                    this.cardCounter.textContent = '0 / 0';
                } else {
                    const cardData = this.currentDeck[this.currentIndex];
                    const { id, char, pinyin, phrase, type } = cardData;
                    let frontHTML = (type === 'pronunciation')
                        ? `<p class="phrase-text">${phrase.replace(char, `<span class="highlight">「${char}」</span>`)}</p>`
                        : `<p class="phrase-text">${phrase.replace(char, `<span class="highlight">「${pinyin}」</span>`)}</p>`;
                    let backHTML = `<div class="answer-text">${phrase.replace(char, `<span class="highlight">「${char}」</span>`)}</div><div class="answer-pinyin">${pinyin}</div>`;
                    this.cardFront.innerHTML = frontHTML;
                    this.cardBack.innerHTML = backHTML;
                    this.cardCounter.textContent = `${this.currentIndex + 1} / ${this.currentDeck.length}`;
                    this.starBtn.classList.toggle('starred', this.starredCardIds.has(id));
                }
                this.prevBtn.disabled = !hasDeck || this.currentIndex === 0;
                this.nextBtn.disabled = !hasDeck || this.currentIndex === this.currentDeck.length - 1;
                this.shuffleBtn.disabled = !hasDeck;
                this.resetBtn.disabled = !hasDeck;
            },
            async toggleStar() {
                if (!userId || this.currentDeck.length === 0) return;
                const card = this.currentDeck[this.currentIndex];
                const docRef = doc(db, `users/${userId}/starred_glyphs`, card.id);
                try {
                    if (this.starredCardIds.has(card.id)) {
                        await deleteDoc(docRef);
                    } else {
                        await setDoc(docRef, { ...card, starredAt: new Date() });
                    }
                } catch (error) {
                    console.error("Update star status failed:", error);
                    alert("抱歉，更新收藏狀態失敗。");
                }
            },
            handleFileUpload(event) {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    const customCards = this.parseCSV(e.target.result);
                    if (customCards.length === 0) {
                        alert('CSV檔案格式不符或內容為空。');
                        return;
                    }
                    this.allCards = customCards;
                    this.bookSelect.innerHTML = `<option value="all">全部 (自訂)</option><option value="starred">我的收藏</option>`;
                    this.bookSelect.value = 'all';
                    this.buildDeck();
                };
                reader.readAsText(file);
            },
            setupStarredListener() {
                if (this.unsubscribeStarred) this.unsubscribeStarred();
                const collectionRef = collection(db, `users/${userId}/starred_glyphs`);
                this.unsubscribeStarred = onSnapshot(collectionRef, (snapshot) => {
                    const newStarredIds = new Set();
                    snapshot.forEach(doc => newStarredIds.add(doc.id));
                    this.starredCardIds = newStarredIds;
                    if (this.bookSelect.value === 'starred') {
                        this.buildDeck();
                    } else if (this.currentDeck.length > 0) {
                        const currentCard = this.currentDeck[this.currentIndex];
                        this.starBtn.classList.toggle('starred', this.starredCardIds.has(currentCard.id));
                    }
                }, (error) => {
                    console.error("Failed to listen to starred glyphs:", error);
                });
            },
            addEventListeners() {
                this.flashcardContainer.addEventListener('click', (e) => {
                    if (e.target.closest('#star-btn')) return;
                    if (this.currentDeck.length > 0) this.flashcard.classList.toggle('is-flipped');
                });
                this.starBtn.addEventListener('click', () => this.toggleStar());
                this.prevBtn.addEventListener('click', () => {
                    if (this.currentIndex > 0) {
                        this.currentIndex--;
                        this.flashcard.classList.remove('is-flipped');
                        this.displayCard();
                    }
                });
                this.nextBtn.addEventListener('click', () => {
                    if (this.currentIndex < this.currentDeck.length - 1) {
                        this.currentIndex++;
                        this.flashcard.classList.remove('is-flipped');
                        this.displayCard();
                    }
                });
                this.shuffleBtn.addEventListener('click', () => this.buildDeck());
                this.resetBtn.addEventListener('click', () => {
                    if (this.currentDeck.length > 0) {
                        this.currentIndex = 0;
                        this.flashcard.classList.remove('is-flipped');
                        this.displayCard();
                    }
                });
                this.bookSelect.addEventListener('change', () => this.buildDeck());
                this.modeSelect.addEventListener('change', () => this.buildDeck());
                this.csvUpload.addEventListener('change', (e) => this.handleFileUpload(e));
            }
        };

        // =================================================================================
        // --- MODIFIED: 成語 (Idioms) App Logic (React) ---
        // =================================================================================
        const IdiomsApp = {
            reactRoot: null,

            init() {
                const container = document.getElementById('idioms-root');
                if (!this.reactRoot) {
                    this.reactRoot = ReactDOM.createRoot(container);
                }
                this.reactRoot.render(React.createElement(this.IdiomsComponent));
            },
            
            destroy() {
                // React 18 cleanup handled internally
            },

            IdiomsComponent() {
                //const [allIdioms, setAllIdioms] = useState( [] );
                const [allIdioms, setAllIdioms] = useState(
                    [
  {
    "volume": "其他",
    "idiom": "振聾發聵",
    "meaning": "比喻大聲疾呼，以喚醒愚昧的人。"
  },
  {
    "volume": "其他",
    "idiom": "白雲蒼狗",
    "meaning": "比喻世事變幻無常"
  },
  {
    "volume": "其他",
    "idiom": "身無長物",
    "meaning": "比喻節儉或貧困"
  },
  {
    "volume": "其他",
    "idiom": "不刊之論",
    "meaning": "確鑿不移，見識超拔，不可磨滅的言論"
  },
  {
    "volume": "其他",
    "idiom": "洞若觀火",
    "meaning": "觀察的非常清楚透徹"
  },
  {
    "volume": "其他",
    "idiom": "綆短汲深",
    "meaning": "才能無法勝任"
  },
  {
    "volume": "其他",
    "idiom": "膠柱鼓瑟",
    "meaning": "比喻做事拘泥而不知變通"
  },
  {
    "volume": "其他",
    "idiom": "倚馬可待",
    "meaning": "比喻文思敏捷，寫作迅速。"
  },
  {
    "volume": "其他",
    "idiom": "魚游釜中",
    "meaning": "比喻身處險境，危在旦夕"
  },
  {
    "volume": "其他",
    "idiom": "齧臂之交",
    "meaning": "交情深厚的朋友"
  },
  {
    "volume": "其他",
    "idiom": "誇誇其談",
    "meaning": "言談浮誇，不切實際"
  },
  {
    "volume": "其他",
    "idiom": "一時之選",
    "meaning": "當世傑出的人才"
  },
  {
    "volume": "其他",
    "idiom": "師心自用",
    "meaning": "固執己見，自以為是"
  },
  {
    "volume": "第一冊",
    "idiom": "斗杓東指",
    "meaning": "斗柄指向東方，表示春季來臨。"
  },
  {
    "volume": "第一冊",
    "idiom": "東海揚塵",
    "meaning": "世事變幻迅速"
  },
  {
    "volume": "第一冊",
    "idiom": "馬耳東風",
    "meaning": "比喻充耳不聞、無動於衷"
  },
  {
    "volume": "第一冊",
    "idiom": "東鱗西爪",
    "meaning": "畫龍時，龍在雲中為雲所蔽，東露一鱗，西現一爪，不見全貌。比喻事物零碎、不完整。"
  },
  {
    "volume": "第一冊",
    "idiom": "數典忘祖",
    "meaning": "比喻忘本，或對本國、自己祖先的歷史無知"
  },
  {
    "volume": "第一冊",
    "idiom": "退避三舍",
    "meaning": "為避免正面衝突或因害怕而主動讓步"
  },
  {
    "volume": "第一冊",
    "idiom": "曳尾塗中",
    "meaning": "比喻寧願貧困而逍遙自在，不願尊貴禮遇而備受拘束"
  },
  {
    "volume": "第一冊",
    "idiom": "東山高臥",
    "meaning": "比喻隱居不仕"
  },
  {
    "volume": "第一冊",
    "idiom": "狼奔豕突",
    "meaning": "形容人倉皇失措的逃跑，或壞人恣意摧殘破壞"
  },
  {
    "volume": "第一冊",
    "idiom": "狼前虎後",
    "meaning": "比喻壞人接踵而來"
  },
  {
    "volume": "第一冊",
    "idiom": "狼煙四起",
    "meaning": "比喻外敵來犯，戰事迭起，社會動蕩不安"
  },
  {
    "volume": "第一冊",
    "idiom": "虎狼之師",
    "meaning": "比喻勇猛善戰的軍隊"
  },
  {
    "volume": "第一冊",
    "idiom": "雁行折翼",
    "meaning": "比喻兄弟分離或死亡"
  },
  {
    "volume": "第一冊",
    "idiom": "雁過留聲",
    "meaning": "比喻死後留下好名聲"
  },
  {
    "volume": "第一冊",
    "idiom": "雁杳魚沉",
    "meaning": "杳無音信，音訊斷絕"
  },
  {
    "volume": "第一冊",
    "idiom": "投桃報李",
    "meaning": "比喻朋友之間禮尚往來"
  },
  {
    "volume": "第一冊",
    "idiom": "懲前毖後",
    "meaning": "以從前的過失為教訓，戒慎不再犯錯"
  },
  {
    "volume": "第一冊",
    "idiom": "戰戰兢兢",
    "meaning": "抱著戒慎恐懼的心情"
  },
  {
    "volume": "第一冊",
    "idiom": "無忝所生",
    "meaning": "為人子女者不僅應當善盡孝道，更須努力奉獻社會，才能光耀門楣"
  },
  {
    "volume": "第一冊",
    "idiom": "鳶飛魚躍",
    "meaning": "比喻萬物任其天性而動，各得其所"
  },
  {
    "volume": "第一冊",
    "idiom": "高山仰止",
    "meaning": "比喻崇高的德行，令人景仰"
  },
  {
    "volume": "第一冊",
    "idiom": "瓜瓞綿綿",
    "meaning": "比喻子孫繁盛、傳世久遠"
  },
  {
    "volume": "第一冊",
    "idiom": "耳提面命",
    "meaning": "比喻懇切教誨"
  },
  {
    "volume": "第一冊",
    "idiom": "進退維谷",
    "meaning": "形容前進後退都無路可走的困窘處境"
  },
  {
    "volume": "第一冊",
    "idiom": "深厲淺揭",
    "meaning": "比喻行事隨機應變"
  },
  {
    "volume": "第一冊",
    "idiom": "日就月將",
    "meaning": "每日有成就，每月有進步。形容持續不斷，積少成多"
  },
  {
    "volume": "第一冊",
    "idiom": "南箕北斗",
    "meaning": "比喻徒有虛名而無實用"
  },
  {
    "volume": "第一冊",
    "idiom": "行雲流水",
    "meaning": "形容飄逸自然，無拘無束的樣子；或比喻無足輕重事物"
  },
  {
    "volume": "第一冊",
    "idiom": "雪泥鴻爪",
    "meaning": "比喻往事所遺留的痕跡"
  },
  {
    "volume": "第一冊",
    "idiom": "斫輪老手",
    "meaning": "比喻技藝精練純熟或經驗豐富的人"
  },
  {
    "volume": "第一冊",
    "idiom": "冒天下之大不韙",
    "meaning": "比喻不顧一切去做全天下人都認為不對的事"
  },
  {
    "volume": "第一冊",
    "idiom": "蓼莪之思",
    "meaning": "孝子思念父母"
  },
  {
    "volume": "第一冊",
    "idiom": "寒泉之思",
    "meaning": "比喻感懷母恩的深切思念"
  },
  {
    "volume": "第一冊",
    "idiom": "秋水伊人",
    "meaning": "面對景物思念人"
  },
  {
    "volume": "第一冊",
    "idiom": "甘棠遺愛",
    "meaning": "用以表示對賢官廉吏的愛戴或懷念"
  },
  {
    "volume": "第一冊",
    "idiom": "不愧屋漏",
    "meaning": "獨處暗地，仍心思端正，行為不苟且"
  },
  {
    "volume": "第一冊",
    "idiom": "夢熊之兆",
    "meaning": "生男的頌語"
  },
  {
    "volume": "第一冊",
    "idiom": "搔首踟蹰",
    "meaning": "徬徨不知如何自處"
  },
  {
    "volume": "第一冊",
    "idiom": "不忮不求",
    "meaning": "多用來形容淡泊無求，不做非分之事的處世態度"
  },
  {
    "volume": "第一冊",
    "idiom": "餔糟歠釃",
    "meaning": "有與世浮沉、和眾人同醉之意"
  },
  {
    "volume": "第一冊",
    "idiom": "懷瑾握瑜",
    "meaning": "比喻懷有高貴的美德與才能"
  },
  {
    "volume": "第一冊",
    "idiom": "蘭芷蕭艾",
    "meaning": "比喻士人改變氣節，成為凡人"
  },
  {
    "volume": "第一冊",
    "idiom": "黃鐘毀棄",
    "meaning": "比喻賢才不被重用"
  },
  {
    "volume": "第一冊",
    "idiom": "瓦釜雷鳴",
    "meaning": "比喻平庸無才德的人卻居於顯赫的高位"
  },
  {
    "volume": "第二冊",
    "idiom": "怙惡不悛",
    "meaning": "有過惡卻不肯悔改"
  },
  {
    "volume": "第二冊",
    "idiom": "雕欄玉砌",
    "meaning": "形容富麗華美的建築物"
  },
  {
    "volume": "第二冊",
    "idiom": "動如參商",
    "meaning": "比喻分別而無法相見"
  },
  {
    "volume": "第二冊",
    "idiom": "自吹自擂",
    "meaning": "比喻自我宣傳吹噓"
  },
  {
    "volume": "第二冊",
    "idiom": "槁木死灰",
    "meaning": "比喻心情極端消沉，對一切事情無動於衷"
  },
  {
    "volume": "第二冊",
    "idiom": "將功贖罪",
    "meaning": "用功勞來抵銷罪過"
  },
  {
    "volume": "第二冊",
    "idiom": "買櫝還珠",
    "meaning": "比喻捨本逐末，取捨失當"
  },
  {
    "volume": "第二冊",
    "idiom": "案牘勞形",
    "meaning": "形容因文書工作繁重而疲憊不堪"
  },
  {
    "volume": "第二冊",
    "idiom": "舐犢情深",
    "meaning": "比喻父母疼愛子女之深情"
  },
  {
    "volume": "第二冊",
    "idiom": "情竇初開",
    "meaning": "初通情愛的感覺，多用於少男少女"
  },
  {
    "volume": "第二冊",
    "idiom": "窮兵黷武",
    "meaning": "恣意動用兵力，發動戰爭"
  },
  {
    "volume": "第二冊",
    "idiom": "桴鼓相應",
    "meaning": "比喻極力響應，緊密配合"
  },
  {
    "volume": "第二冊",
    "idiom": "匏瓜空懸",
    "meaning": "比喻有才能的人卻不為世所用"
  },
  {
    "volume": "第二冊",
    "idiom": "越俎代庖",
    "meaning": "比喻踰越自己的職分而代人做事"
  },
  {
    "volume": "第二冊",
    "idiom": "鮑魚之肆",
    "meaning": "比喻臭穢的地方、惡劣的環境或小人聚集的場所"
  },
  {
    "volume": "第二冊",
    "idiom": "如法炮製",
    "meaning": "本指依照古法製藥，後多指依照往例或現有的方法辦事"
  },
  {
    "volume": "第二冊",
    "idiom": "未雨綢繆",
    "meaning": "事先預備以防患未然"
  },
  {
    "volume": "第二冊",
    "idiom": "椿萱並茂",
    "meaning": "比喻父母都健在"
  },
  {
    "volume": "第二冊",
    "idiom": "齟齬",
    "meaning": "多用來比喻彼此意見不合"
  },
  {
    "volume": "第二冊",
    "idiom": "籠街喝道",
    "meaning": "形容車駕儀從之盛"
  },
  {
    "volume": "第二冊",
    "idiom": "被褐懷珠",
    "meaning": "比喻有真才實學而身處寒微的人"
  },
  {
    "volume": "第二冊",
    "idiom": "玩日愒歲",
    "meaning": "怠惰偷安，虛度光陰"
  },
  {
    "volume": "第二冊",
    "idiom": "桑榆暮景",
    "meaning": "比喻晚年、年老"
  },
  {
    "volume": "第二冊",
    "idiom": "詠絮之才",
    "meaning": "稱美能作詩文的才女"
  },
  {
    "volume": "第二冊",
    "idiom": "春樹暮雲",
    "meaning": "為思念遠方友人之辭"
  },
  {
    "volume": "第二冊",
    "idiom": "月中折桂",
    "meaning": "比喻科舉及第"
  },
  {
    "volume": "第二冊",
    "idiom": "指桑罵槐",
    "meaning": "比喻拐彎抹角罵人"
  },
  {
    "volume": "第二冊",
    "idiom": "蒲柳之姿",
    "meaning": "比喻人身體衰弱"
  },
  {
    "volume": "第二冊",
    "idiom": "步步金蓮",
    "meaning": "形容女性步態婀娜多姿"
  },
  {
    "volume": "第二冊",
    "idiom": "同氣連枝",
    "meaning": "比喻同胞兄弟姐妹"
  },
  {
    "volume": "第二冊",
    "idiom": "讓棗推梨",
    "meaning": "比喻兄弟間的友愛"
  },
  {
    "volume": "第二冊",
    "idiom": "同室操戈",
    "meaning": "比喻兄弟之間不和睦或團體內部互相爭鬥"
  },
  {
    "volume": "第二冊",
    "idiom": "夜雨對床",
    "meaning": "比喻兄弟或親友相聚，親密交談"
  },
  {
    "volume": "第二冊",
    "idiom": "陟罰臧否",
    "meaning": "指賞功罰過"
  },
  {
    "volume": "第二冊",
    "idiom": "不知所云",
    "meaning": "說話或文章內容模糊、重點不明，無法讓人了解其意旨"
  },
  {
    "volume": "第二冊",
    "idiom": "不求聞達",
    "meaning": "無意追求名譽顯貴"
  },
  {
    "volume": "第二冊",
    "idiom": "引喻失義",
    "meaning": "引用不恰當的例證"
  },
  {
    "volume": "第二冊",
    "idiom": "初出茅廬",
    "meaning": "比喻初入社會，缺乏歷練"
  },
  {
    "volume": "第二冊",
    "idiom": "鞠躬盡瘁",
    "meaning": "指做事小心謹慎，不辭辛勞，盡心盡力"
  },
  {
    "volume": "第二冊",
    "idiom": "作姦犯科",
    "meaning": "為非作歹，觸犯法令"
  },
  {
    "volume": "第二冊",
    "idiom": "志大才疏",
    "meaning": "指志向遠大，而才能疏闊不實在"
  },
  {
    "volume": "第二冊",
    "idiom": "老驥伏櫪",
    "meaning": "比喻年紀雖大，仍懷雄心壯志"
  },
  {
    "volume": "第二冊",
    "idiom": "壯志未酬",
    "meaning": "偉大的志願尚未實現"
  },
  {
    "volume": "第二冊",
    "idiom": "玩物喪志",
    "meaning": "一味玩賞無益的事物，因而消磨人的壯志"
  },
  {
    "volume": "第二冊",
    "idiom": "人窮志短",
    "meaning": "人處於貧窮困苦之時，容易只顧眼前利益而喪失遠大的志向"
  },
  {
    "volume": "第二冊",
    "idiom": "年少得志",
    "meaning": "年紀很輕就已經有所成就"
  },
  {
    "volume": "第二冊",
    "idiom": "桀驁不馴",
    "meaning": "性情凶暴狂傲"
  },
  {
    "volume": "第二冊",
    "idiom": "虎視眈眈",
    "meaning": "比喻心懷不軌，伺機掠奪"
  },
  {
    "volume": "第二冊",
    "idiom": "明察秋毫",
    "meaning": "比喻能洞察一切，看出極細微的地方"
  },
  {
    "volume": "第二冊",
    "idiom": "一曝十寒",
    "meaning": "比喻沒有恆心，做事不能持久"
  },
  {
    "volume": "第二冊",
    "idiom": "出爾反爾",
    "meaning": "比喻人的言行前後反覆"
  },
  {
    "volume": "第二冊",
    "idiom": "五十步笑百步",
    "meaning": "比喻自己和別人犯同樣的錯誤，只是程度上輕些，可是卻譏笑別人"
  },
  {
    "volume": "第二冊",
    "idiom": "顧左右而言他",
    "meaning": "閃避主題而談論別的事情"
  },
  {
    "volume": "第二冊",
    "idiom": "緣木求魚",
    "meaning": "比喻用錯方法，徒勞無功"
  },
  {
    "volume": "第二冊",
    "idiom": "揠苗助長",
    "meaning": "比喻為求速成而未循序，結果不但無益，反而有害"
  },
  {
    "volume": "第二冊",
    "idiom": "閒雲野鶴",
    "meaning": "比喻來去自如，無所羈絆的人"
  },
  {
    "volume": "第二冊",
    "idiom": "暴虎馮河",
    "meaning": "比喻有勇無謀的行為"
  },
  {
    "volume": "第二冊",
    "idiom": "兔死狗烹",
    "meaning": "比喻事情成功之後，曾經出過力的人遭到遺棄或被殺的命運"
  },
  {
    "volume": "第二冊",
    "idiom": "攀龍附鳳",
    "meaning": "趨附權貴，以求晉升"
  },
  {
    "volume": "第二冊",
    "idiom": "汗牛充棟",
    "meaning": "形容書籍極多"
  },
  {
    "volume": "第二冊",
    "idiom": "管中窺豹",
    "meaning": "比喻所見狹小，未得全貌"
  },
  {
    "volume": "第二冊",
    "idiom": "狼狽為奸",
    "meaning": "比喻彼此勾結做壞事"
  },
  {
    "volume": "第二冊",
    "idiom": "門可羅雀",
    "meaning": "形容賓客稀少、交往的朋友很少，門庭冷落。也比喻生意清淡"
  },
  {
    "volume": "第三冊",
    "idiom": "猝不及防",
    "meaning": "忽然發生，來不及防備"
  },
  {
    "volume": "第三冊",
    "idiom": "裨補闕漏",
    "meaning": "有助於缺失的改善"
  },
  {
    "volume": "第三冊",
    "idiom": "睥睨群雄",
    "meaning": "斜眼看人，表示傲然輕視的意思"
  },
  {
    "volume": "第三冊",
    "idiom": "濯纓彈冠",
    "meaning": "清洗帽纓，整理帽冠，比喻準備出仕"
  },
  {
    "volume": "第三冊",
    "idiom": "連篇累牘",
    "meaning": "篇幅過多，文詞冗長"
  },
  {
    "volume": "第三冊",
    "idiom": "官吏瀆職",
    "meaning": "有虧職守"
  },
  {
    "volume": "第三冊",
    "idiom": "中流砥柱",
    "meaning": "獨立不撓、能堅強支撐危局的人"
  },
  {
    "volume": "第三冊",
    "idiom": "根深柢固",
    "meaning": "基礎堅實，牢不可拔"
  },
  {
    "volume": "第三冊",
    "idiom": "神情矍鑠",
    "meaning": "老而強健的樣子"
  },
  {
    "volume": "第三冊",
    "idiom": "雙瞳翦水",
    "meaning": "形容眼睛清澈明亮"
  },
  {
    "volume": "第三冊",
    "idiom": "鬼影幢幢",
    "meaning": "形容陰森恐怖的樣子"
  },
  {
    "volume": "第三冊",
    "idiom": "牛山濯濯",
    "meaning": "比喻人秃頂無髮"
  },
  {
    "volume": "第三冊",
    "idiom": "亂點鴛鴦譜",
    "meaning": "將未婚男女胡亂湊成夫妻"
  },
  {
    "volume": "第三冊",
    "idiom": "殃及池魚",
    "meaning": "比喻無故受累"
  },
  {
    "volume": "第三冊",
    "idiom": "泱泱大國",
    "meaning": "稱讚國力強大的國家，懷有寬大的氣度與良好的風範"
  },
  {
    "volume": "第三冊",
    "idiom": "追根究柢",
    "meaning": "追查探究事物的根本"
  },
  {
    "volume": "第三冊",
    "idiom": "提綱挈領",
    "meaning": "抓住事理的要點"
  },
  {
    "volume": "第三冊",
    "idiom": "鍥而不舍",
    "meaning": "比喻有恆心、有毅力"
  },
  {
    "volume": "第三冊",
    "idiom": "蟾宮折桂",
    "meaning": "比喻科舉及第"
  },
  {
    "volume": "第三冊",
    "idiom": "櫛比鱗次",
    "meaning": "比喻緊密的連接排列"
  },
  {
    "volume": "第三冊",
    "idiom": "滄海桑田",
    "meaning": "比喻世事多變，人生無常"
  },
  {
    "volume": "第三冊",
    "idiom": "兄弟鬩牆",
    "meaning": "指兄弟失和爭吵"
  },
  {
    "volume": "第三冊",
    "idiom": "一衣帶水",
    "meaning": "比喻江流狹窄有如一條衣帶。後泛指雖有江河阻隔，但不足以限制交往"
  },
  {
    "volume": "第三冊",
    "idiom": "吞舟之魚",
    "meaning": "比喻犯大罪的人"
  },
  {
    "volume": "第三冊",
    "idiom": "門當戶對",
    "meaning": "指結親的雙方家庭背景、社會地位相等"
  },
  {
    "volume": "第三冊",
    "idiom": "貌合神離",
    "meaning": "表面彼此相合，實際上卻心志背離"
  },
  {
    "volume": "第三冊",
    "idiom": "齊大非偶",
    "meaning": "指談論婚事的對象條件太好，不敢高攀作為配偶"
  },
  {
    "volume": "第三冊",
    "idiom": "鶼鰈情深",
    "meaning": "比喻夫妻恩愛"
  },
  {
    "volume": "第三冊",
    "idiom": "秦晉之好",
    "meaning": "指兩姓聯姻的關係"
  },
  {
    "volume": "第三冊",
    "idiom": "秋扇見捐",
    "meaning": "比喻女子不再年輕貌美而遭受冷落"
  },
  {
    "volume": "第三冊",
    "idiom": "扶危持顛",
    "meaning": "扶持危殆，挽救顛覆。形容盡力挽回危局"
  },
  {
    "volume": "第三冊",
    "idiom": "滿坐風生",
    "meaning": "比喻來的人神清氣揚，光彩耀人"
  },
  {
    "volume": "第三冊",
    "idiom": "垂福萬葉",
    "meaning": "福澤延及萬代。比喻恩澤久遠"
  },
  {
    "volume": "第三冊",
    "idiom": "榮極軒裳",
    "meaning": "自己的生活極盡奢華，行事的禮儀與排場的講究，超越一般大臣。"
  },
  {
    "volume": "第三冊",
    "idiom": "螳臂拒輪",
    "meaning": "比喻不自量力"
  },
  {
    "volume": "第三冊",
    "idiom": "不衫不履",
    "meaning": "形容人灑脫、不拘禮法"
  },
  {
    "volume": "第三冊",
    "idiom": "板蕩識忠臣",
    "meaning": "指在亂世中才能識得真正忠心的臣子"
  },
  {
    "volume": "第三冊",
    "idiom": "孤臣孽子",
    "meaning": "原指被疏遠、孤立的臣子與失寵的庶子"
  },
  {
    "volume": "第三冊",
    "idiom": "虎父無犬子",
    "meaning": "比喻上一代強，下一代也不弱"
  },
  {
    "volume": "第三冊",
    "idiom": "兄友弟恭",
    "meaning": "兄弟間感情和睦，能相互友愛尊敬"
  },
  {
    "volume": "第三冊",
    "idiom": "骨鯁之臣",
    "meaning": "犯顏諫諍，敢進忠言的臣子"
  },
  {
    "volume": "第四冊",
    "idiom": "率爾操觚",
    "meaning": "不加思索，揮筆成文，或草率作文"
  },
  {
    "volume": "第四冊",
    "idiom": "縱橫捭闔",
    "meaning": "運用政治、外交等手段進行分化或聯合"
  },
  {
    "volume": "第四冊",
    "idiom": "稗官野史",
    "meaning": "記載街談巷說、軼聞瑣事的書籍"
  },
  {
    "volume": "第四冊",
    "idiom": "纏綿悱惻",
    "meaning": "情感悲切動人"
  },
  {
    "volume": "第四冊",
    "idiom": "蜚聲國際",
    "meaning": "聞名於國際間"
  },
  {
    "volume": "第四冊",
    "idiom": "流言蜚語",
    "meaning": "沒有根據的話"
  },
  {
    "volume": "第四冊",
    "idiom": "不言之教",
    "meaning": "上位者以德化民，不發號施令而天下平治"
  },
  {
    "volume": "第四冊",
    "idiom": "功成弗居",
    "meaning": "有所成就而不居功"
  },
  {
    "volume": "第四冊",
    "idiom": "天長地久",
    "meaning": "天地永恆無窮地存在著，後用以形容時間悠遠長久"
  },
  {
    "volume": "第四冊",
    "idiom": "金玉滿堂",
    "meaning": "形容極為富有"
  },
  {
    "volume": "第四冊",
    "idiom": "和光同塵",
    "meaning": "鋒芒內斂與世無爭，而與塵俗相融；或喻與世浮沉，隨波逐流"
  },
  {
    "volume": "第四冊",
    "idiom": "絕聖棄智",
    "meaning": "棄絕智慧聰明，返歸於人的天真純樸"
  },
  {
    "volume": "第四冊",
    "idiom": "無中生有",
    "meaning": "本無其事憑空造作"
  },
  {
    "volume": "第四冊",
    "idiom": "大器晚成",
    "meaning": "一個人的成就較晚"
  },
  {
    "volume": "第四冊",
    "idiom": "出生入死",
    "meaning": "不避艱險，將生死置之度外"
  },
  {
    "volume": "第四冊",
    "idiom": "禍福相倚",
    "meaning": "禍與福常相因而至"
  },
  {
    "volume": "第四冊",
    "idiom": "被褐懷玉",
    "meaning": "比喻有真才實學而身處寒微的人"
  },
  {
    "volume": "第四冊",
    "idiom": "天網恢恢",
    "meaning": "犯法者難逃國法制裁"
  },
  {
    "volume": "第四冊",
    "idiom": "以柔克剛",
    "meaning": "用柔弱之道戰勝剛強"
  },
  {
    "volume": "第四冊",
    "idiom": "小國寡民",
    "meaning": "國家小，百姓少，常用為自謙之詞"
  },
  {
    "volume": "第四冊",
    "idiom": "雞犬相聞",
    "meaning": "比喻住家相近"
  },
  {
    "volume": "第四冊",
    "idiom": "朝三暮四",
    "meaning": "比喻以詐術欺人，或心意不定、反覆無常"
  },
  {
    "volume": "第四冊",
    "idiom": "螳臂當車",
    "meaning": "比喻不自量力"
  },
  {
    "volume": "第四冊",
    "idiom": "相濡以沫",
    "meaning": "比喻同處於困境，互相以微力救助"
  },
  {
    "volume": "第四冊",
    "idiom": "井底之蛙",
    "meaning": "比喻見識淺薄的人"
  },
  {
    "volume": "第四冊",
    "idiom": "邯鄲學步",
    "meaning": "比喻仿效他人未成，反而失去自己本來的面目"
  },
  {
    "volume": "第四冊",
    "idiom": "呆若木雞",
    "meaning": "形容愚笨或受到驚嚇而發愣的樣子"
  },
  {
    "volume": "第四冊",
    "idiom": "蝸角虛名",
    "meaning": "比喻微不足道的浮名虛譽"
  },
  {
    "volume": "第四冊",
    "idiom": "涸轍之鮒",
    "meaning": "比喻陷處困境，急需救援的人或物"
  },
  {
    "volume": "第四冊",
    "idiom": "得魚忘筌",
    "meaning": "比喻成功後忘本背恩"
  },
  {
    "volume": "第五冊",
    "idiom": "睚眥必報",
    "meaning": "指極小的怨恨也一定要報復"
  },
  {
    "volume": "第五冊",
    "idiom": "含英咀華",
    "meaning": "品味文章的要旨及辭藻的華美"
  },
  {
    "volume": "第五冊",
    "idiom": "暴殄天物",
    "meaning": "浪費、糟蹋物力，不知珍惜"
  },
  {
    "volume": "第五冊",
    "idiom": "揆情度理",
    "meaning": "審度情勢、事理"
  },
  {
    "volume": "第五冊",
    "idiom": "玩日愒歲",
    "meaning": "怠惰偷安，虛度光陰"
  },
  {
    "volume": "第五冊",
    "idiom": "短褐穿結",
    "meaning": "形容衣服破爛"
  },
  {
    "volume": "第五冊",
    "idiom": "咳唾成珠",
    "meaning": "比喻言談不凡或文詞優美"
  },
  {
    "volume": "第五冊",
    "idiom": "深文巧劾",
    "meaning": "巧妙援用嚴苛律法陷人入罪"
  },
  {
    "volume": "第五冊",
    "idiom": "言簡意賅",
    "meaning": "言辭精簡，意義完備"
  },
  {
    "volume": "第五冊",
    "idiom": "一諾千金",
    "meaning": "形容承諾信用高，一旦許諾別人，必定做到"
  },
  {
    "volume": "第五冊",
    "idiom": "四面楚歌",
    "meaning": "比喻所處環境艱難困頓，危急無援"
  },
  {
    "volume": "第五冊",
    "idiom": "破釜沉舟",
    "meaning": "比喻下定決心、義無反顧，不留後路"
  },
  {
    "volume": "第五冊",
    "idiom": "運籌帷幄",
    "meaning": "謀劃策略，通常指人善於策劃或指揮"
  },
  {
    "volume": "第五冊",
    "idiom": "錦衣夜行",
    "meaning": "事業上有所成就，卻沒有回鄉接受親友的稱譽"
  },
  {
    "volume": "第五冊",
    "idiom": "明修棧道，暗渡陳倉",
    "meaning": "比喻出其不意、從旁突擊的戰略，或比喻暗中進行的活動"
  },
  {
    "volume": "第五冊",
    "idiom": "借箸代籌",
    "meaning": "比喻代人謀劃策略"
  },
  {
    "volume": "第五冊",
    "idiom": "胯下之辱",
    "meaning": "比喻人未顯達時，被人鄙視、譏笑，遭受恥辱"
  },
  {
    "volume": "第五冊",
    "idiom": "圯橋進履",
    "meaning": "比喻屈己尊老，求取教益"
  },
  {
    "volume": "第五冊",
    "idiom": "約法三章",
    "meaning": "泛指事先約好或規定的事"
  },
  {
    "volume": "第五冊",
    "idiom": "無顏見江東父老",
    "meaning": "指心懷羞愧，沒臉見自己人"
  },
  {
    "volume": "第五冊",
    "idiom": "十面埋伏",
    "meaning": "形容被敵軍層層包圍"
  },
  {
    "volume": "第五冊",
    "idiom": "人為刀俎，我為魚肉",
    "meaning": "比喻任人宰割"
  },
  {
    "volume": "第五冊",
    "idiom": "項莊舞劍，意在沛公",
    "meaning": "在表面事物之下隱藏了另外的意圖"
  },
  {
    "volume": "第五冊",
    "idiom": "多多益善",
    "meaning": "指愈多愈好"
  },
  {
    "volume": "第五冊",
    "idiom": "玉石俱焚",
    "meaning": "比喻不分好壞、善惡，同歸於盡"
  },
  {
    "volume": "第五冊",
    "idiom": "蘭艾同焚",
    "meaning": "比喻貴賤賢愚同歸於盡"
  },
  {
    "volume": "第五冊",
    "idiom": "釁起蕭牆",
    "meaning": "爭端起於內部"
  },
  {
    "volume": "第五冊",
    "idiom": "禍起蕭牆",
    "meaning": "比喻禍亂發生於內部"
  },
  {
    "volume": "第五冊",
    "idiom": "洗心革面",
    "meaning": "比喻澈底悔悟，改過自新"
  },
  {
    "volume": "第五冊",
    "idiom": "四海之內皆兄弟",
    "meaning": "天下的人都像兄弟一樣，親如一家"
  }
]
                );
                const [filteredIdioms, setFilteredIdioms] = useState([]);
                const [selectedVolume, setSelectedVolume] = useState("全部");
                const [currentIndex, setCurrentIndex] = useState(0);
                const [showMeaning, setShowMeaning] = useState(false);
                // MODIFIED: Removed showVolumeSelector state
                const [notification, setNotification] = useState({ show: false, message: '', type: '' });
                const [starredIdiomIds, setStarredIdiomIds] = useState(new Set());
                const prevSelectedVolumeRef = React.useRef();
                const prevAllIdiomsRef = React.useRef();
                const volumes = [...new Set(allIdioms.map(item => item.volume))].sort((a, b) => a.localeCompare(b, 'zh-Hant-TW-u-co-stroke'));

                // Firebase listener (Unchanged)
                useEffect(() => {
                    if (!userId) return;
                    const collectionRef = collection(db, `users/${userId}/starred_idioms`);
                    const unsubscribe = onSnapshot(collectionRef, (snapshot) => {
                        const newStarredIds = new Set();
                        snapshot.forEach(doc => newStarredIds.add(doc.id));
                        setStarredIdiomIds(newStarredIds);
                    });
                    return () => unsubscribe();
                }, [userId]);
                
                // Helper to generate a stable ID (Unchanged)
                const generateIdiomId = useCallback((idiom) => `${idiom.idiom}_${idiom.meaning}`, []);

                // Effect to build deck (MODIFIED to prevent index reset on star click)
                useEffect(() => {
                    const idiomsWithIds = allIdioms.map(item => ({ ...item, id: generateIdiomId(item) }));

                    let newFiltered;
                    if (selectedVolume === "我的收藏") {
                        newFiltered = idiomsWithIds.filter(item => starredIdiomIds.has(item.id));
                    } else if (selectedVolume === "全部") {
                        newFiltered = idiomsWithIds;
                    } else {
                        newFiltered = idiomsWithIds.filter(item => item.volume === selectedVolume);
                    }
 
                    const newDeck = newFiltered.sort((a, b) => a.idiom.localeCompare(b.idiom, 'zh-Hant-TW-u-co-stroke'));
                    setFilteredIdioms(newDeck);

                    // 檢查是什麼觸發了此更新
                    const volumeChanged = prevSelectedVolumeRef.current !== undefined && prevSelectedVolumeRef.current !== selectedVolume;
                    const dataChanged = prevAllIdiomsRef.current !== undefined && prevAllIdiomsRef.current !== allIdioms;

                    if (volumeChanged || dataChanged) {
                        // 如果是冊別或資料來源改變，則重設
                        setCurrentIndex(0);
                        setShowMeaning(false);
                    } else {
                        // 否則 (僅收藏狀態改變)，將索引固定在新的範圍內
                        const newMaxIndex = newDeck.length - 1;
                        if (currentIndex > newMaxIndex) {
                            setCurrentIndex(Math.max(0, newMaxIndex)); // 如果當前索引超出範圍(例如刪除最後一張)，則移到新的最後一張
                        }
                        // 如果索引仍然有效，則什麼都不做，保持用戶位置
                    }

                    // 為下一次執行更新 ref
                    prevSelectedVolumeRef.current = selectedVolume;
                    prevAllIdiomsRef.current = allIdioms;

                }, [selectedVolume, allIdioms, starredIdiomIds, generateIdiomId, currentIndex]); // 注意：currentIndex 已被添加到依賴項陣列中
                

                const showNotification = (message, type = 'success', duration = 3000) => {
                    setNotification({ show: true, message, type });
                    setTimeout(() => setNotification({ show: false, message: '', type: '' }), duration);
                };

                const shuffleCards = () => {
                    let array = [...filteredIdioms];
                    for (let i = array.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [array[i], array[j]] = [array[j], array[i]];
                    }
                    setFilteredIdioms(array);
                    setCurrentIndex(0); setShowMeaning(false);
                    showNotification('卡片已隨機排列！', 'success');
                };
                
                const resetCards = () => {
                     const originalOrder = [...allIdioms]
                        .map(item => ({ ...item, id: generateIdiomId(item) }))
                        .filter(item => {
                             if (selectedVolume === "我的收藏") return starredIdiomIds.has(item.id);
                             if (selectedVolume === "全部") return true;
                             return item.volume === selectedVolume;
                        })
                        .sort((a, b) => a.idiom.localeCompare(b.idiom, 'zh-Hant-TW-u-co-stroke'));
                     
                     setFilteredIdioms(originalOrder);
                     setCurrentIndex(0); setShowMeaning(false);
                     showNotification('卡片已重置為預設順序。', 'info');
                };

                // MODIFIED: Navigate function to stop at ends (like Glyphs)
                const navigate = (direction) => {
                    const newIndex = currentIndex + direction;
                    if (newIndex >= 0 && newIndex < filteredIdioms.length) {
                        setCurrentIndex(newIndex);
                        setShowMeaning(false);
                    }
                };

                const handleFileUpload = async (event) => {
                    const file = event.target.files[0];
                    if (!file) return;
                    if (!file.type.includes('csv') && !file.name.endsWith('.csv')) {
                        showNotification('檔案格式錯誤，請上傳CSV檔案。', 'error'); return;
                    }
                    const text = await file.text();
                    const newIdioms = text.trim().split('\n').map(line => {
                        const [volume, idiom, meaning] = line.split(',').map(s => s.trim());
                        return (volume && idiom && meaning) ? { volume, idiom, meaning } : null;
                    }).filter(Boolean);

                    if (newIdioms.length > 0) {
                        const currentIdiomsSet = new Set(allIdioms.map(i => i.idiom));
                        const uniqueNewIdioms = newIdioms.filter(i => !currentIdiomsSet.has(i.idiom));
                        setAllIdioms(prev => [...prev, ...uniqueNewIdioms]);
                        showNotification(`成功匯入 ${uniqueNewIdioms.length} 個新成語！`, 'success');
                    } else {
                        showNotification('CSV檔案為空或格式不符。', 'error');
                    }
                    event.target.value = null; 
                };

                const toggleStar = async (event) => {
                    event.stopPropagation();
                    if (!userId || !currentIdiom) return;
                    const docRef = doc(db, `users/${userId}/starred_idioms`, currentIdiom.id);
                    try {
                        if (starredIdiomIds.has(currentIdiom.id)) {
                            await deleteDoc(docRef);
                        } else {
                            const { id, ...dataToSave } = currentIdiom;
                            await setDoc(docRef, { ...dataToSave, starredAt: new Date() });
                        }
                    } catch (error) {
                        console.error("Update star status failed:", error);
                        showNotification("更新收藏狀態失敗。", "error");
                    }
                };

                const currentIdiom = filteredIdioms[currentIndex];
                const isStarred = currentIdiom ? starredIdiomIds.has(currentIdiom.id) : false;
                const hasDeck = filteredIdioms.length > 0;

                // --- MODIFIED: This is the new React return block, mimicking the Glyphs layout ---
                return React.createElement('div', null,
                    // Notification (Unchanged)
                    notification.show && React.createElement('div', { className: `fixed top-20 left-1/2 -translate-x-1/2 flex items-center gap-3 w-auto max-w-sm p-4 rounded-lg shadow-2xl text-white z-50 transition-all duration-300 ${notification.type === 'success' ? 'bg-green-500' : notification.type === 'info' ? 'bg-blue-500' : 'bg-red-500'}` },
                      React.createElement('p', null, notification.message),
                      React.createElement('button', { onClick: () => setNotification({ ...notification, show: false }), className: "p-1 rounded-full hover:bg-white/20" }, React.createElement(XCircle, { size: 20 }))
                    ),
                    
                    // NEW: Control Panel (matches Glyphs, but uses 2 cols since mode is removed)
                    React.createElement('div', { className: "bg-white p-4 rounded-xl shadow-md mb-6 grid grid-cols-1 md:grid-cols-2 gap-4 items-center" },
                        // NEW: Book Select (as <select>)
                        React.createElement('div', null,
                            React.createElement('label', { htmlFor: "idiom-book-select", className: "block text-sm font-medium text-gray-700" }, "選擇冊別"),
                            React.createElement('select', { 
                                id: "idiom-book-select", 
                                className: "mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",
                                value: selectedVolume,
                                onChange: e => setSelectedVolume(e.target.value)
                            },
                                ['全部', '我的收藏', ...volumes].map(volume => React.createElement('option', { key: volume, value: volume }, volume))
                            )
                        ),
                        
                        // NEW: CSV Upload (as <input type="file">)
                        React.createElement('div', null,
                            React.createElement('label', { htmlFor: "csv-upload-idioms", className: "block text-sm font-medium text-gray-700" }, "上傳CSV檔"),
                            React.createElement('input', { 
                                type: "file", 
                                id: "csv-upload-idioms", 
                                accept: ".csv", 
                                className: "mt-1 block w-full text-sm text-gray-500",
                                onChange: handleFileUpload 
                            })
                        )
                    ),
                    
                    // NEW: Flashcard Container (matches Glyphs)
                    React.createElement('div', { className: "flashcard-container h-80 cursor-pointer", onClick: () => hasDeck && setShowMeaning(!showMeaning) },
                        // Star Button (same as before, styled by its own CSS rule)
                        hasDeck && React.createElement('svg', { 
                            id: "star-btn-idiom", 
                            onClick: toggleStar, 
                            viewBox: "0 0 24 24", 
                            strokeLinejoin: "round", 
                            className: isStarred ? 'starred' : '' 
                        }, React.createElement('path', { d: "M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" })),
                        
                        // Flashcard (using CSS classes for flip)
                        React.createElement('div', { className: `flashcard ${showMeaning ? 'is-flipped' : ''}` },
                            // Front face (uses Glyphs classes)
                            React.createElement('div', { className: "card-face card-front" },
                                currentIdiom 
                                ? React.createElement('p', { className: "phrase-text" }, currentIdiom.idiom)
                                : React.createElement('p', { className: "text-xl text-gray-500" }, "沒有可用的卡片。<br>請選擇不同條件或上傳CSV檔。", null)
                            ),
                            
                            // Back face (uses Glyphs classes, no gradient)
                            React.createElement('div', { className: "card-face card-back" },
                                currentIdiom && React.createElement(React.Fragment, null,
                                    React.createElement('div', { className: "answer-text highlight", style: { fontSize: '2.25rem', marginBottom: '1rem' } }, currentIdiom.idiom),
                                    React.createElement('div', { className: "answer-text", style: { fontSize: '1.5rem' } }, currentIdiom.meaning)
                                )
                            )
                        )
                    ),

                    // NEW: Navigation Bar (matches Glyphs exactly)
                    React.createElement('div', { className: "flex items-center justify-center flex-wrap gap-4 mt-6" },
                        // Shuffle
                        React.createElement('button', { 
                            id: "shuffle-btn-idiom", 
                            className: "bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",
                            onClick: shuffleCards,
                            disabled: !hasDeck
                        }, "打亂順序"),
                        
                        // Reset
                        React.createElement('button', { 
                            id: "reset-btn-idiom", 
                            className: "bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",
                            onClick: resetCards,
                            disabled: !hasDeck
                        }, "重置練習"),
                        
                        // Prev
                        React.createElement('button', { 
                            id: "prev-btn-idiom", 
                            className: "bg-white hover:bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",
                            onClick: () => navigate(-1),
                            disabled: !hasDeck || currentIndex === 0
                        }, "上一個"),
                        
                        // Counter
                        React.createElement('div', { 
                            id: "card-counter-idiom", 
                            className: "text-lg font-medium text-gray-700" 
                        }, hasDeck ? `${currentIndex + 1} / ${filteredIdioms.length}` : '0 / 0'),
                        
                        // Next
                        React.createElement('button', { 
                            id: "next-btn-idiom", 
                            className: "bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",
                            onClick: () => navigate(1),
                            disabled: !hasDeck || currentIndex === filteredIdioms.length - 1
                        }, "下一個")
                    )
                );
            }
        };


        // =================================================================================
        // --- Main Controller Logic (Unchanged) ---
        // =================================================================================
        function showApp(mode) {
            welcomeScreen.classList.add('hidden');
            mainApp.classList.remove('hidden');
            appSwitcher.value = mode;

            if (mode === 'glyphs') {
                appTitle.innerText = "中文生字學習卡";
                glyphsContainer.classList.remove('hidden');
                idiomsContainer.classList.add('hidden');
                GlyphsApp.init();
                IdiomsApp.destroy();
            } else {
                appTitle.innerText = "成語學習卡";
                glyphsContainer.classList.add('hidden');
                idiomsContainer.classList.remove('hidden');
                GlyphsApp.destroy();
                IdiomsApp.init();
            }
        }

        async function start(mode) {
            loadingOverlay.classList.remove('hidden');
            loadingText.innerText = "正在初始化...";
            await initializeFirebase();
            if (firebaseInitialized) {
                loadingText.innerText = "正在同步雲端資料...";
                showApp(mode);
                loadingOverlay.classList.add('hidden');
            }
        }
        
        document.getElementById('start-glyphs-btn').addEventListener('click', () => start('glyphs'));
        document.getElementById('start-idioms-btn').addEventListener('click', () => start('idioms'));
        appSwitcher.addEventListener('change', (e) => showApp(e.target.value));

    </script>
</body>
</html>
